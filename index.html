<Html>

<Head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1250" />

</Head><Title>Assembler peldaprogramok by dimitrij</Title><Body><font face="Times New Roman">

<Body BGCOLOR="#FFFFFF">


<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="6"><I><font color="#808080">Assembler példaprogramok<BR>
</font></I></font></font>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">Készítette: Molnár Dávid (dimitrij)<BR>
</font></I></font></font>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">E-mail: mdavid626@gmail.com<BR>
</font></I></font></font>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">2008-05<BR>
</font></I></font></font>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="2"><I><font color="#808080">All rights reserved<BR>
</font></I></font></font>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="2"><I><font color="#808080"><a href="tasm.zip">A fordításhoz</a><BR>
</font></I></font></font>
<BR><BR><BR>

<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="2"><I><font color="#808080">


<table border="1px">
<tr> <td nowrap>Program 01</td><td>Írjon programot a téglatest térfogatának kiszámítására. A téglatest oldalainak hosszát kérje be a billentyûzetrõl, az eredményt pedig jelenítse meg a képernyõn. Az eredmény férjen bele 2 bájtba.</td><td><a href="#01">Letöltés</a></td> </tr>
<tr> <td>Program 02</td><td>Írjon programot a kocka felületének kiszámítására. A kocka oldalát kérje be a billentyûzetrõl, az ererdményt jelentítse meg a számítógép monitorán. Az eredmény férjen bele 2 bájtba.</td><td><a href="#02">Letöltés</a></td> </tr>
<tr> <td>Program 03</td><td>Írjon programot a kocka térfogatának a kiszámítására. A kocka oldalának hosszát kérje be a billentyûzetrõl, az eredményt jelenítse meg a képernyõn. Az eredmény férjen bele 2 bájtba.</td><td><a href="#03">Letöltés</a></td> </tr>
<tr> <td>Program 04</td><td>Írjon programot két hatjegyû billentyûzetrõl beadott BCD szám összeadására. Az eredményt (BCD szám) jelenítse meg a számítógép monitorán.</td><td><a href="#04">Letöltés</a></td> </tr>
<tr> <td>Program 05</td><td>Íjon programot, amely megjelenít a képernyõ monitorán egy négyjegyû dekadikus számlálót, amely 0-tól 9999-ig számol. Az ESC lenyomására a program végetér.</td><td><a href="#05">Letöltés</a></td> </tr>
<tr> <td>Program 06</td><td>Írjatok programot 3 maximálisan kétjegyû szám beolvasására a billentyûzetrõl, és a megjelenítésükre a monitoron a legkisebbtõl a legnagyobbig.</td><td><a href="#06">Letöltés</a></td> </tr>
<tr> <td>Program 07</td><td>Írjon programot, amely a beadott értékek halmazából kiválasztja a páros számokat, megjeleníti õket, és megjeleníti a mennyiségüket is. Jelentítse meg a beadott halmazt, amely 10 maximálisan kétjegyû egész számokból tartalmaz.</td><td><a href="#07">Letöltés</a></td> </tr>
<tr> <td>Program 08</td><td>Írjon programot, amely a beadott értékek halmazából kiválasztja a páros számokat, megjeleníti õket, és megjeleníti a mennyiségüket is. Jelentítse meg a beadott halmazt, amely 10 maximálisan kétjegyû egész számokból tartalmaz.</td><td><a href="#08">Letöltés</a></td> </tr>
<tr> <td>Program 09</td><td>Írjon programot, amely a beadott értékek halmazát rendezi kisebbtõl a nagyobbig. Jelenítse meg a beadott halmazt, amely 10 maximálisan kétjegyû egész számokból áll.</td><td><a href="#09">Letöltés</a></td> </tr>
<tr> <td>Program 10</td><td>Írjon programot, amely beadott értékek halmazát rendezi nagyobbtól a kisebbig, és megjeleníti õket a képernyõn. Jelenítse meg a beadott halmazt is, amely 10 maximálisan kétjegyû egész számot tartalmaz.</td><td><a href="#10">Letöltés</a></td> </tr>
<tr> <td>Program 11</td><td>Írjon programot szöveges állomány létrehozására a lemezen, és a megtöltésére a bill. beadott karakterekkel. A tevékenység befejezõ karakterének az ESC bill. válassza. Megjegyzés: a vezérlõ billentyûket, nyilakat és a Backspace bill. ignorálja!</td><td><a href="#11">Letöltés</a></td> </tr>
<tr> <td>Program 12</td><td>Írjon programot a szöveges állományok megjelenítésére a képernyõn. Az állomány nevét kérje be a billentyûzetrõl. Ha a megadott állomány nem létezik, jelenítsen meg hibaüzenetet: "A megadott állomány nem létezik!". A képernyõ betelésekor az utolsó sorban jelenítse meg: "Üss le egy billentyût a folytatáshoz...".<td><a href="#12">Letöltés</td></a></td> </tr>
<tr> <td>Program 13</td><td>Írjon programot, ami kitöröli az aktuális mappából az összes fájlt, amely régebbi mint a billentyûzetrõl megadott dátum.</td><td><a href="#13">Letöltés</a></td> </tr>
<tr> <td>Program 14</td><td>Írjon programot, amely szöveges állományt bõvíti egy a billentyûzetrõl beadott sorral. A fájl nevét kérje be a billentyûzetrõl. Ha nem létezik, akkor jelenítsen meg hibaüzenetet.</td><td><a href="#14">Letöltés</a></td> </tr>
<tr> <td>Program 15</td><td>Írjon programot, amely megjeleníti a leütött billentyû hexadecimális és decimális kódját.</td><td><a href="#15">Letöltés</a></td> </tr>
<tr> <td>Program 16</td><td>Írjon programot, amely kinyomtat egy állományt. Az állomány nevét kérje be a billentyûzetrõl.</td><td><a href="#16">Letöltés</a></td> </tr>
<tr> <td>Program 17</td><td>Írjon programot, amely átnevez egy állományt. Az állomány régi és új nevét kérje be a billentyûzetrõl.</td><td><a href="#17">Letöltés</a></td> </tr>
<tr> <td>Program 18</td><td>>Írjon programot, amely megjeleníti a billentyûzetrõl megadott számú kiszolgáló alprogram logikai címét hexadecimálisan és dekadikusan.</td><td><a href="#18">Letöltés</a></td> </tr>
<tr> <td>Program 19</td><td>>Írjon programot, amely az aktuális mappában létrehoz egy mappát a bill. megadott névvel, és az aktuális könyvtárrá teszi.</td><td><a href="#19">Letöltés</a></td> </tr>
<tr> <td>Program 20</td><td>Írjon programot, amely az aktuális könyvtárban létrehoz egy állományt a könyvtárban levõ állományok nevével.</td><td><a href="#20">Letöltés</a></td> </tr>
<tr> <td>Program 21</td><td>Írjon programot, amely a billentyûzetrõl karaktereket olvas be, és megjeleníti õket a képernyõn. A program az end szó beírásával ér véget, de ez a szó már nem jelenik meg a képernyõn.</td><td><a href="#21">Letöltés</a></td> </tr>
<tr> <td>Program 22</td><td>Írjon programot, amely szöveges állományt másol a képernyõre (a nevét a bill. adjuk meg) úgy, hogy minden Laci szót lecserél Péter-re. Az egyes szavak egymástól SP, HT, CR és LF karakterekkel vannak elválasztva.</td><td><a href="#22">Letöltés</a></td> </tr>
<tr> <td>Program 23</td><td>Írjon programot, amely a képernyõre másolja a szöveges állományt, melynek nevét a bil. adjuk meg, úgy, hogy minden Laci szavat áláhúz. Az egyes szavak SP, HT, CR és LF karakterekkel vannak elválasztva.</td><td><a href="#23">Letöltés</a></td> </tr>
<tr> <td>Program 24</td><td>Írjon programot, amely megszámolja az aktuális könyvtárban levõ fájlokat, az eredményt pedig kiírja a képernyõre.</td><td><a href="#24">Letöltés</a></td> </tr>
<tr> <td>Program 25</td><td>Írjon programot, amely kiírja a képernyõre az összes állományt az aktuális mappából, amely megfelelnek a bill. megadott maszknak.</td><td><a href="#25">Letöltés</a></td> </tr>
<tr> <td>Program 26</td><td>Írjon programot, amely elkészíti két fájl "összegét". A két forrásfájl ill. a célfájl nevét kérje be a billentyûzetrõl.</td><td><a href="#26">Letöltés</a></td> </tr>
<tr> <td>Program 27</td><td>Írjon programot, amely megszámolja a Jani szavakat a szöveges állományban, és megjeleníti ezt a mennyiséget a képernyõn. Az egyes szavak SP, HT, CR és LF karakterekkel vannak elválasztva. Az állomány nevét kérje be a billentyûzetrõl, és hiba esetén jelenítsen meg hibaüzenetet.</td><td><a href="#27">Letöltés</a></td> </tr>
<tr> <td>Program 28</td><td>Írjon programot, amely kiírja az aktuális mappából azokat az állományokat, amelyek mérete nagyobb mint a bill. megadott érték.</td><td><a href="#28">Letöltés</a></td> </tr>
<tr> <td>Program 29</td><td>Írjon programot, amely bekér a bill. 3 kétjegyû egész számot, és ezeket megjeleníti a képernyõn a legnagyobbtól a legkisebbig.</td><td><a href="#29">Letöltés</a></td> </tr>
<tr> <td>Program 30</td><td>Írjon programot, amely megállapítja az aktuális dátumot, hozzáad egy napot, és lecseréli az aktuális dátumot erre az újra. Kiírja a régi és az új dátumokat is.</td><td><a href="#30">Letöltés</a> </td> </tr>
</table>

<br><br><br>

</font></I></font></font>

<a name="01"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 01<BR>
</font></I></font></font><BR>
<a href="01.zip">01.zip</a> <a href="01.exe">01.exe</a> <a href="01.asm">01.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot a téglatest térfogatának kiszámítására. A téglatest oldalainak hosszát kérje be a billentyûzetrõl, az eredményt pedig jelenítse meg a képernyõn. Az eredmény férjen bele 2 bájtba.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'A teglatest terfogatanak kiszamitasa.'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Add meg az oldalakat (max. 40 mindegyik):$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'. oldal: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A teglatest terfogata: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nyomj le barmilyen billentyut a kilepeshez...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Mondom, hogy negyvenig! Ember, nem erted?$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">newline </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><font color="#000000"> </font><I><font color="#808080">;új sor írására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">3</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;ebbe olvassuk be a számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer_save </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">3</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;ide pedig elmentjük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemafor </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;binascii használja</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">index </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;indexeljük a buffer_save-t<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro stringek kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiir </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text </font><I><font color="#808080">;text az egyetlen paraméter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;a 9-es DOS szolgáltatással írjuk ki a stringet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;alprogram  a beolvasott karakterek átalakítására binárissá</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">; bemenet si - mutato buffer+1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">                   </font></font></font><I><font color="#808080">; kimenet ax - bin ertek<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük a beolvasott kar. számát a  cl-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ax-t nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük volt-e beolvasva karakter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> gop11 </font><I><font color="#808080">;ha volt továbbmegyünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;ha nem vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop11:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><B><font color="#0000FF">mov</font></B></font></font><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el fogunk szorozni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp11:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;itt szorzunk, ax-et bx-el, dx nullazva</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si-t megnöveljük eggyel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszünk a bufferbõl egy bájtot a  dl-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;levonunk belõle 30h-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;így lesz belõle bináris szám, hozzáadjuk az ax- hez, az ax-ben van a végsõ bináris szám</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl eggyel csökkentjük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> cikp11 </font><I><font color="#808080">;addig ismételjük ezt, míg cl nulla nem lesz<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;vissza a fõprogramba<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;a procedúra vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ez a proc. kiírja a képernyõre az ax-ben lévõ bin. értéket</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">; bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;szemafort nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük, hogy nem-e egy nullát kell kiírnunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop21 </font><I><font color="#808080">;ha nem akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;ha igen, hát kiírjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#008000">'0'</font><font color="#000000"> </font><I><font color="#808080">;azért így, mert így egyszerûbb</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><font color="#000000"> </font><I><font color="#808080">;mint késõbb törõdni vele</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;vissza a fõprogramba<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop21:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10000</font><font color="#000000"> </font><I><font color="#808080">;10000 fogunk osztani</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;a dx-et nullázni kell, lásd div utasítás<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp22:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;osztjuk az ax-et és kiterjesztését a dx-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;a maradékot kimentjük az si-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha ax nulla megnézzük ki kell-e írni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop22 </font><I><font color="#808080">;ha nem nulla akkor kiírjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha szemafor nulla, nem írjuk ki</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> gop23<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop22:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;itt írjuk ki</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;elõtte hozzáadunk 30h-t, lásd ASCII</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;már volt kiírva szám, szemafor 1-esbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop23:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztót 10-el elosztjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;kinullazza a dx-et, fent már nem fog kelleni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> vegep2 </font><I><font color="#808080">;ha kisebb mint vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;vissza az osztót a bx-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;az osztandó meg a maradék</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cikp22 </font><I><font color="#808080">;vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><B><font color="#0000FF">ret</font></B></font></font><font color="#000000"> </font><I><font color="#808080">;visszatérünk a fõprogramba<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;a proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;képernyõ törlése, 80x25-ös mód beállításával</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h</font><font color="#000000"> </font><I><font color="#808080">;a 16-os BIOS szolgáltatást használjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text1 </font></font></font><I><font color="#808080">;kiírjuk a text1-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> index,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;index=1<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir newline </font></font></font><I><font color="#808080">;írunk egy újsort</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,index </font><I><font color="#808080">;ax-be az index</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii </font><I><font color="#808080">;hogy ki tudjuk írni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text2 </font></font></font><I><font color="#808080">;és kiírjuk, hogy .oldal:<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. bufffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;string beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;a buffer-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;bx nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;kisebb az aktuálisan nézett karakter  mint 30h=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha igen, az akkor nem szám</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">39h</font><font color="#000000"> </font><I><font color="#808080">;nagyobb az aktuálisan nézett karakter mint 39h=9?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go1 </font><I><font color="#808080">;akkor az nem szám</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000"> </font><I><font color="#808080">;bl a köv. karakterre mutassson</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;megnézzük bl=a beolvasott karakterek  számával?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik2 </font><I><font color="#808080">;ha kevesebb ismétlünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ha ide eljutunk a buffer minden egyes beolvasott karaktere  szám<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer+</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;si-be buffer+1 offsetcím, lásd  asciibin proc. bemente</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> asciibin </font><I><font color="#808080">;meghívjuk az asciiibin proc., ezzel  alakítjuk át a beolvasott karaktereket számmá<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">40</font><font color="#000000"> </font><I><font color="#808080">;megnézzük nem nagyobb-e a beolvasott szám mint  40</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha nagyobb ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;nulla se lehet...</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><font color="#FF0000">1</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha nem volt beolvasott karakter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go1 </font><I><font color="#808080">;akkor is ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go2 </font><I><font color="#808080">;ha egyik se teljesült, akkor megyünk tovább<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir hibauz1 </font></font></font><I><font color="#808080">;kiírjuk a hibaüzit</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;vissza a beolvasásra<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,index </font><I><font color="#808080">;elmentjük a számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer_save[</font><I><font color="#0000FF">si</font></I><font color="#000000">-</font><font color="#FF0000">1</font><font color="#000000">],</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;a buffer_save-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> index </font><I><font color="#808080">;index eggyel nagyobb</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> index,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;index=3?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;ha kisebb vagy egyenlõ mint 3, akkor ismétlünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;bx nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,buffer_save[</font><font color="#FF0000">0</font><font color="#000000">] </font><I><font color="#808080">;al-be az elsõ szám</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer_save[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;bl-be a másik</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000"> </font><I><font color="#808080">;szorozzuk az al-t bl-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer_save[</font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;a bl-be a harmadik szám, bh-t elõbb  nulláztuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;ax-et szorozzuk bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">push</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;elmentjük a kapott számot a verembe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text3 </font></font></font><I><font color="#808080">;kiírjuk a text3-at<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">pop</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;visszahozzuk a számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii </font><I><font color="#808080">;és kiírjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text4 </font></font></font><I><font color="#808080">;majd kiírjuk a text4-et<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várunk egy karakterre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;a vezérlés visszaadása a DOS-nak</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font>

<hr noshade><br>
<a name="02"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 02<BR>
</font></I></font></font><BR>
<a href="02.zip">02.zip</a> <a href="02.exe">02.exe</a> <a href="02.asm">02.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot a kocka felületének kiszámítására. A kocka oldalát kérje be a billentyûzetrõl, az ererdményt jelentítse meg a számítógép monitorán. Az eredmény férjen bele 2 bájtba.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;EQU direktíva, a max szó jelentse azt, hogy 104, a fordító  minden max szó helyére ezt fogja tenni</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">max </font></font></font><B><font color="#000080">EQU</font></B><font color="#000000"> </font><font color="#FF0000">104<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'A kocka felszinenek kiszamitasa'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Add meg az oldalat (max. 104): $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A kocka felszine: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nyomj le barmilyen billentyut a kilepeshez...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Max. 104!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">eredmeny </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;ide mentjük az eredményt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">4</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">4</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;ide olvassuk be a számot<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">textkiir </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;9-es DOS szolgáltatás</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text </font><I><font color="#808080">;dx-be a kiírandó string offsetcíme</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. ASCII kódú karakterek bináris számmá való alakítására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet si - mutato buffer+1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">                   </font></font></font><I><font color="#808080">;kimenet ax - bin ertek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;elmentjük cl-be a beolvasott kar. számát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ax-et nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;volt beolvasott karakter?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> asciibin_go1 </font><I><font color="#808080">;ha igen, akkor megyünk átszámolni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;ha nem visszatérünk egy nullával az ax-ben<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin_go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el fogunk szorozni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;dx nullázva</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si növelése eggyel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük a számjegyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;hogy szám legyen, ASCII kódú most még!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;a számunkhoz hozzáadjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl dekrementálása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> asciibin_cik1 </font><I><font color="#808080">;addig míg a cl 0 nem lesz<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérünk a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. ami kiírja az ax-ben megadott számot a képernyõre</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> binascii_start </font><I><font color="#808080">;átugorjuk a változót<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">flag </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;volt már kiírt számjegy? ezt mondja meg<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;flag=0 ? még nem volt kiírt számjegy</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> binascii_go1 </font><I><font color="#808080">;ha nem, akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor kiírunk egy nullát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#008000">'0'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;és visszatérünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10000</font><font color="#000000"> </font><I><font color="#808080">;10000-rel fogunk osztani</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;osztás ? dx-et nullázni kell! lásd füzet DIV  utasítás<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;ax-et osztjuk bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;maradékot dx-ben kapjuk vissza, elmentjük si-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> binascii_go2 </font><I><font color="#808080">;ha nem akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> flag,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor flag=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> binascii_go3 </font><I><font color="#808080">;ha igen, akkor még nem volt kiírt  számjegy, ezért a kapott nullát nem írjuk ki<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;ha ide eljutunk, kiírjuk a számjegyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;elõbb hozzáadunk 30h-t, ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;és flag=1, mert már van kiírt számjegy<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;bx-et osztani kell 10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;dx-et nullázni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;kinullázza a dx-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ax=1?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> binascii_vege </font><I><font color="#808080">;ha kisebb mint egy akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ha nem, akkor bx vissza osztónak</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;ax-be meg az elõbbi maradék</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> binascii_cik1 </font><I><font color="#808080">;és vissza a ciklus elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;képernyõ törlése, 80x25-ös módba való lépéssel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  textkiir text1 </font></font></font><I><font color="#808080">;text1 kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  textkiir text2 </font></font></font><I><font color="#808080">;text2 kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;string beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;a buffer-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;bx nullázása, evvel címzünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;megnézzük a beolvasott tömb minden  egyes elemét, hogy szám volt-e: 30h és 39h közötti ASCII kódú  karakternek kell lenni, ezek a számok ASCII kódjai</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha kisebb volt, hiba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">39h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha meg nagyobb, az is hiba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000"> </font><I><font color="#808080">;az összes elemet végignézzük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;addig míg a bl el nem éri a beolvasott kar. számát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik2 </font><I><font color="#808080">;jobban mondva, nagyobb vagy egyenlõ nem lesz  nála, 0-val kezdjük az indexelést!<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer+</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;átalakítjuk a karaktereket számmá</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> asciibin </font><I><font color="#808080">;itt csináljuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,max </font><I><font color="#808080">;ax-ben kaptuk vissza a számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go1 </font><I><font color="#808080">;megnézzük nem nagyobb-e mint, ami lehet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;nulla se lehet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ekkor is hiba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><font color="#FF0000">1</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha meg nem ütött mást a user csak egy  ENTERT, azt is lekezeljük, mint hiba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go2 </font><I><font color="#808080">;tovább, mert itt akkor nincs hiba<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  textkiir hibauz </font></font></font><I><font color="#808080">;hibaüzenet kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;új szám bekérése<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;bx-be ax-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000"> </font><I><font color="#808080">;ax szorzása bx-el ? ax-ben a kocka oldala ?  szorozva önmagával, ez az a2, ezt még szorozzuk 6-al, és meg  is van a felszíne<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">6</font><font color="#000000"> </font><I><font color="#808080">;6-al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;ax és kiterjesztése a dx szorzása a bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> eredmeny,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;eredmény elmentése<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  textkiir text3 </font></font></font><I><font color="#808080">;text3 kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,eredmeny </font><I><font color="#808080">;eredmény vissza az ax-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii </font><I><font color="#808080">;kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  textkiir text4 </font></font></font><I><font color="#808080">;text4 kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várás egy karakterre echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;a vezérlés visszaadása az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font>

<hr noshade><br>
<a name="03"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 03<BR>
</font></I></font></font><BR>
<a href="03.zip">03.zip</a> <a href="03.exe">03.exe</a> <a href="03.asm">03.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot a kocka térfogatának a kiszámítására. A kocka oldalának hosszát kérje be a billentyûzetrõl, az eredményt jelenítse meg a képernyõn. Az eredmény férjen bele 2 bájtba.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'A kocka terfogatanak kiszamitasa'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'################################'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Add meg az oldalat (max. 40): $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A kocka terfogata: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nyomj le barmilyen billentyut a kilepeshez...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Max. 40!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">eredmeny </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ?</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">3</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">)</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemafor </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ?<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro stringek kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">textkiir </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text </font><I><font color="#808080">;text az egyetlen paraméter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;a 9-es DOS szolgáltatással írjuk ki a stringet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;alprogram  a beolvasott karakterek átalakítására binárissá</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet si - mutato buffer+1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">                   </font></font></font><I><font color="#808080">;kimenet ax - bin ertek<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük a beolvasott kar. számát a  cl-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ax-t nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük volt-e beolvasva karakter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> gop11 </font><I><font color="#808080">;ha volt továbbmegyünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;ha nem vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop11:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><B><font color="#0000FF">mov</font></B></font></font><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el fogunk szorozni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp11:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;itt szorzunk, ax-et bx-el, dx nullazva</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si-t megnöveljük eggyel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszünk a bufferbõl egy bájtot a  dl-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;levonunk belõle 30h-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;így lesz belõle bináris szám, hozzáadjuk az ax- hez, az ax-ben van a végsõ bináris szám</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl eggyel csökkentjük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> cikp11 </font><I><font color="#808080">;addig ismételjük ezt, míg cl nulla nem lesz<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;vissza a fõprogramba<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;a procedúra vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ez a proc. kiírja a képernyõre az ax-ben lévõ bin. értéket</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">; bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;szemafort nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük, hogy nem-e egy nullát kell kiírnunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop21 </font><I><font color="#808080">;ha nem akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;ha igen, hát kiírjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#008000">'0'</font><font color="#000000"> </font><I><font color="#808080">;azért így, mert így egyszerûbb</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><font color="#000000"> </font><I><font color="#808080">;mint késõbb törõdni vele</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;vissza a fõprogramba<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop21:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10000</font><font color="#000000"> </font><I><font color="#808080">;10000 fogunk osztani</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;a dx-et nullázni kell, lásd div utasítás<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp22:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;osztjuk az ax-et és kiterjesztését a dx-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;a maradékot kimentjük az si-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha ax nulla megnézzük ki kell-e írni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop22 </font><I><font color="#808080">;ha nem nulla akkor kiírjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha szemafor nulla, nem írjuk ki</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> gop23<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop22:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;itt írjuk ki</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;elõtte hozzáadunk 30h-t, lásd ASCII</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;már volt kiírva szám, szemafor 1-esbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop23:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztót 10-el elosztjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;kinullazza a dx-et, fent már nem fog kelleni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> vegep2 </font><I><font color="#808080">;ha kisebb mint vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;vissza az osztót a bx-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;az osztandó meg a maradék</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cikp22 </font><I><font color="#808080">;vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><B><font color="#0000FF">ret</font></B></font></font><font color="#000000"> </font><I><font color="#808080">;visszatérünk a fõprogramba<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;a proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;képernyõ törlése, 80x25-ös mód beállításával</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h</font><font color="#000000"> </font><I><font color="#808080">;a 16-os BIOS szolgáltatást használjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  textkiir text1 </font></font></font><I><font color="#808080">;kiírjuk a text1-et<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  textkiir text2<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;string beolvasása a bill.-rõl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;a buffer-ba olvasunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;bx nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;kisebb az aktuálisan nézett karakter  mint 30h=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha igen, az akkor nem szám</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">39h</font><font color="#000000"> </font><I><font color="#808080">;nagyobb az aktuálisan nézett karakter mint 39h=9?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go1 </font><I><font color="#808080">;akkor az nem szám</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000"> </font><I><font color="#808080">;bl a köv. karakterre mutassson</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;megnézzük bl=a beolvasott karakterek  számával?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik2 </font><I><font color="#808080">;ha kevesebb ismétlünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ha ide eljutunk a buffer minden egyes beolvasott karaktere  szám<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer+</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;si-be buffer+1 offsetcím, lásd  asciibin proc. bemente</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> asciibin </font><I><font color="#808080">;meghívjuk az asciiibin proc., ezzel  alakítjuk át a beolvasott karaktereket számmá<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">40</font><font color="#000000"> </font><I><font color="#808080">;megnézzük nem nagyobb-e a beolvasott szám mint  40</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha nagyobb ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;al=0</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha igen, hiba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><font color="#FF0000">1</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha nem volt beolvasott karakter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go1 </font><I><font color="#808080">;akkor is ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go2 </font><I><font color="#808080">;ha egyik se teljesült, akkor megyünk tovább<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  textkiir hibauz </font></font></font><I><font color="#808080">;kiírjuk a hibaüzit</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;vissza a beolvasásra<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;itt számolunk, al-t fogjuk szorozni, bl-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000"> </font><I><font color="#808080">;itt csináljuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;most már ax-ben található a számunk, ezért már 16  bit széles operandussal kell szoroznunk, nem gond, bh biztos  nulla</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> eredmeny,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;elmentjük az eredményt<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  textkiir text3 </font></font></font><I><font color="#808080">;kiírjuk a text3-at<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,eredmeny </font><I><font color="#808080">;kiiírjuk az eredményt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  textkiir text4 </font></font></font><I><font color="#808080">;majd kiírjuk a text4-et<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várunk egy karakterre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;a vezérlés visszaadása a DOS-nak</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font>

<hr noshade><br>
<a name="04"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 04<BR>
</font></I></font></font><BR>
<a href="04.zip">04.zip</a> <a href="04.exe">04.exe</a> <a href="04.asm">04.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot két hatjegyû billentyûzetrõl beadott BCD szám összeadására. Az eredményt (BCD szám) jelenítse meg a számítógép monitorán.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;szamjegy nevû konstans, írhattuk volna azt is, hogy szamjegy  EQU 6, de nekem ez így jobban teccik</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szamjegy = </font></font></font><font color="#FF0000">6<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;36 = $, 13,10 új sor írására, ha több új sort akarunk, nem  kell többször a 13, elég a 10, mivel lényegében ez tesz új  sort, a 13 csak a sor elejére viszi a kurzort</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Adj meg ket hatjegyu szamot: '</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'. szam:      $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nyomj le egy billentyut a kilepeshez...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">' Ok!'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text5 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'             -------'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Az osszeguk: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szam1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> szamjegy dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;az elsõ szám tárolására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szam2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> szamjegy dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;a második szám tárolására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">eredmeny </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> szamjegy+</font><font color="#FF0000">1</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;az eredmény tárolására, eggyel  nagyobb, mert lehet, hogy a végén kimarad az egy, ezt  valahova el kell tenni...</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">index1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ez arra, hogy amikor kiírja, hogy .szam, akkor  tudja, hogy épp hanyadik számnál tartunk, lehet nyugodtan itt  nullázni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kar </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;a beolvasott kar. tárolására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">flag1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;volt már szám, nullán kívül? ezt mondja meg<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiir </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro a BCD kódú szám beolvasására, a szám elsõ bájtja a szam</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">beolvas </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> szam</font><BR>
<font face="Courier New"><font SIZE="2"><B><font color="#000080">local</font></B></font></font><font color="#000000"> beolvas_go1,beolvas_cik1 </font><I><font color="#808080">;lokális cimkék</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag1,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;flag-et nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si-t szintén</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> index1 </font><I><font color="#808080">;index legyen eggyel nagyobb</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;írjuk ki az indexet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,index1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;elõbb hozzáadunk 30h-t, mivel számként akarjuk  kiírni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text2 </font></font></font><I><font color="#808080">;aztán a szöveg többi részét is kiírjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffert töröljük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">beolvas_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;beolvasunk egy karaktert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> kar,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;elmentjük az al-be<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> kar,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;megnézzük 0 volt? 30h = 0</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> beolvas_go1 </font><I><font color="#808080">;ha nem akkor semmi, tovább megyünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> flag1,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor volt már kiírt számjegy?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> beolvas_cik1 </font><I><font color="#808080">;ha nem, akkor még ezt sem írjuk ki, mert  ugyebár egy szám nem kezdõdhet nullával<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">beolvas_go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> kar,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;meg kell nézni, hogy szám volt-e leütve</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> beolvas_cik1 </font><I><font color="#808080">;ha kisebb volt mint 30h, az baj</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> kar,</font><font color="#FF0000">39h</font><font color="#000000"> </font><I><font color="#808080">;ha nagyobb mint 39h az is, ezért nem érdekel  minket, és egyszerûen kérünk egy új számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> beolvas_cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;ha minden rendben volt, kiírjuk a számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,kar</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag1,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;és flag egyesbe, mert már volt kiírt szám<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> kar,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;el is mentjük a számot, levonunk 30h-át, mert  nem ASCII-ban akarjuk elmenteni, hanem egyszerû számként</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,kar</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szam[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;si-vel címezzük a szám indexet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;köv. számjegyre mutass!<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,szamjegy </font><I><font color="#808080">;van már elég számjegy?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> beolvas_cik1 </font><I><font color="#808080">;ha még nincs, akkor olvass!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása, azért mert az alacsonyabb bájttól a  magasabb bájtig fogjuk kiírni a stringeket, nem fordítva<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;képernyõ törlése, 80x25-ös módba való lépéssel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text1 </font></font></font><I><font color="#808080">;text1 kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  beolvas szam1 </font></font></font><I><font color="#808080">;elsõ szám beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text4 </font></font></font><I><font color="#808080">;kiírjuk, hogy ok</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  beolvas szam2 </font></font></font><I><font color="#808080">;ugyanaz</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text4<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,szamjegy </font><I><font color="#808080">;na itt fogunk összeadnik, a végérõl  kezdjük, mint a normális összeadásnál<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si dekrementálása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,szam1[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;átvisszük az elsõ számot az al-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,szam2[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;hozzáadjuk a másikat</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> eredmeny[</font><I><font color="#0000FF">si</font></I><font color="#000000">+</font><font color="#FF0000">1</font><font color="#000000">],</font><I><font color="#0000FF">al</font></I><I><font color="#808080">;itt menti el az eredménybe, si+1  azért, mert az eredmény egy bájttal el van tolva a két  beolvasott számhoz képest, nem muszáj ez hogy így legyen, én  így találtam ki</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> eredmeny[</font><I><font color="#0000FF">si</font></I><font color="#000000">+</font><font color="#FF0000">1</font><font color="#000000">],</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;megnézzük túl csordul-e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha nem akkor semmi gond, továbbmehetünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> eredmeny[</font><I><font color="#0000FF">si</font></I><font color="#000000">+</font><font color="#FF0000">1</font><font color="#000000">],</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor le kell vonni belõle  10-et, gondolkozz el miért, és a köv. számjegyhez hozzáadni egyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> eredmeny[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;és menni tovább, nem?<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;már a tömb végén vagyunk?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;ha nem akkor ismételj!<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text5 </font></font></font><I><font color="#808080">;jó készen van az összeadás, írjuk ki az  eredményt!<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;az elejérõl kezdjük kiírni, si-vel cimezzük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> eredmeny[</font><font color="#FF0000">0</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha nem volt a végén maradék, akkor az  eredmény elsõ bájtja, nulla maradt, de ez nem jó, ekkor  helyette ki kell írni egy szóközt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> cik2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#008000">' '</font><font color="#000000"> </font><I><font color="#808080">;itt írunk helyette egy szóközt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;és si eggyel nagyobb, mert az elsõ számjegyet  akkor már nem kell nézni, hisz most írtuk ki<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk a számjegyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,eredmeny[</font><I><font color="#0000FF">si</font></I><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;ASCII azért kell +30h</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,szamjegy </font><I><font color="#808080">;már kiírtuk az összeset?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> cik2<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text3 </font></font></font><I><font color="#808080">;ez már a vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várás egy kar.-ra echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;a vezérlés visszaadása az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;a start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="05"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 05<BR>
</font></I></font></font><BR>
<a href="05.zip">05.zip</a> <a href="05.exe">05.exe</a> <a href="05.asm">05.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Íjon programot, amely megjelenít a képernyõ monitorán egy négyjegyû dekadikus számlálót, amely 0-tól 9999-ig számol. Az ESC lenyomására a program végetér.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szam </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> </font><font color="#FF0000">0<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. bináris szám ASCII kódban való kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> binascii_start </font><I><font color="#808080">;átugorjuk a flag változót<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">flag </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ?<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ez nekünk azért kell, hogy csak max 4  számjegyet írjunk ki, ne ötöt, szal az elsõt egyszerûen nem  írjuk ki... :D lehetne másképp is, így egyszerûbb</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10000</font><font color="#000000"> </font><I><font color="#808080">;10000 osztunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;nullázni kell az osztás elõtt<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;ax osztása bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;maradék si-be<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> flag,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;flag=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> binascii_go1 </font><I><font color="#808080">;ha igen akkor ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;ha nem kiírunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;egy számjegyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;elõtt hozzá kell adni 30h, ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;most már flag egyesbe</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;bx-et 10-zel elosztjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztás kinullázza a dx-et, nincs maradék</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ax=1?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> binascii_vege </font><I><font color="#808080">;ha kisebb, akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ha nem, akkor az osztó vissza a bx-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si-bõl meg az ax-be vissza a maradék</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> binascii_cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">endp<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;képernyõ törlése, 80x25-ös módba való lépéssel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;kurzor eltüntetése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ch</font></I><font color="#000000">,</font><font color="#FF0000">20h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;kurzor a 0,0-ás pozícióra</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><I><font color="#0000FF">bh</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,szam </font><I><font color="#808080">;kiírjuk a szam-ot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">86h</font><font color="#000000"> </font><I><font color="#808080">;várunk 500 ms-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><B><font color="#0000FF">mov</font></B></font></font><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">7</font><BR>
<font face="Courier New"><font SIZE="2"><B><font color="#0000FF">mov</font></B></font></font><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">a120h</font><BR>
<font face="Courier New"><font SIZE="2"><B><font color="#0000FF">int</font></B></font></font><font color="#000000"> </font><font color="#FF0000">15h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">6</font><font color="#000000"> </font><I><font color="#808080">;valaki leütött egy bill.-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">ffh</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">27</font><font color="#000000"> </font><I><font color="#808080">;az ESC volt az?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> vege </font><I><font color="#808080">;ha igen, kilépünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> szam </font><I><font color="#808080">;szam-ot megnöveljük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szam,</font><font color="#FF0000">10000</font><font color="#000000">  </font><I><font color="#808080">;megnézzük nem vagyunk-e még a végén</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várás egy bill.-re</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;kurzor unhide</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000">f0eh</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;vezérlés visszaadása az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="06"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 06<BR>
</font></I></font></font><BR>
<a href="06.zip">06.zip</a> <a href="06.exe">06.exe</a> <a href="06.asm">06.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjatok programot 3 maximálisan kétjegyû szám beolvasására a billentyûzetrõl, és a megjelenítésükre a monitoron a legkisebbtõl a legnagyobbig.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;long szó jelentse azt, hogy 3, ez jelzi a beolvasandó számok   számát, ha itt átírjuk, akkor mindenhol átíródik a  programban, ha mondjuk 10 számot akarnánk bekérni, itt elég  lenne átírni, és a program automatikusan 10 számot kérne be, és rendezne</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">long </font></font></font><B><font color="#000080">EQU</font></B><font color="#000000"> </font><font color="#FF0000">3<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Legkisebbtol a legnagyobbig'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'***************************'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Adj meg $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text11 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">' szamot!'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'. szam: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A szamok rendezve:'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nyomj le egy billentyut a kilepeshez...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A megadhato legnagyobb szam a 99!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">newline </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><font color="#000000"> </font><I><font color="#808080">;új sor írásához</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer_key </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">3</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">)</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer_sort </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> long dup(</font><font color="#FF0000">0</font><font color="#000000">)</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemafor </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ?</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">index </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;a buffer_sort indexeléséhez<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiir </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro egy karakter kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">putchar </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;procedúra bináris szám kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;szemafor nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop21 </font><I><font color="#808080">;ha nem akkor megyünk tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">'0'</font><font color="#000000"> </font><I><font color="#808080">;ha ige, akkor kirakunk egy nullát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vegep2 </font><I><font color="#808080">;és megyünk a végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop21:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10000</font><font color="#000000"> </font><I><font color="#808080">;10000-rel fogunk osztani</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztás elõtt nullázni kell a dx-et<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp21:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;osztjuk az ax-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;a maradék az si-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop22 </font><I><font color="#808080">;ha nem akkor gop22-re</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor szemafor=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> gop23 </font><I><font color="#808080">;ha igen, ugrunk a gop23-ra<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop22:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;al-hez adjunk hozzá 30h, ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;kitesszük a képernyõre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;már itt biztos volt kiírva karakter, ezért  szemafor egyesbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop23:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztót osztani kell 10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;dx nullázása, mint fent</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;kinullazza a dx-et, osztjuk az ax-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;megnézzük ax=1?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> vegep2 </font><I><font color="#808080">;ha kisebb mint 1, akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ha nem, bx-be vissza az osztót</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;ax-be vissza a maradékot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cikp21 </font><I><font color="#808080">;vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérünk a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ASCII karaktereket alakít számmá</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet si - mutato buffer+1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">                   </font></font></font><I><font color="#808080">;kimenet ax - bin ertek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük a cl-be a beolvasott  karakterek számát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ax-et nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük volt-e beolvasott karakter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> gop31 </font><I><font color="#808080">;ha igen, akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vegep3 </font><I><font color="#808080">;ha nem akkor vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop31:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el fogunk szorozni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp31:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;dx nullázva, szorozzuk az ax-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si köv. elemre mutasson</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük dl-be a karaktert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;levonunk belõle 30h, lásd ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;hozzáadjuk az ax-hez a számjegyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl-1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> cikp31 </font><I><font color="#808080">;addig míg cl!=0 vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ez a lényeg, a rendezõ algoritmus</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;bubblesort-ot használjuk, mivel kevés az elemszám</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">bubblesort </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet si - mutato a rendezendo tomb  elso elemere, long a tomb hossza</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> startp5 </font><I><font color="#808080">;átugorjuk a változókat<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">p </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;egy szemafor, hogy tudjuk volt csere</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buf </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;buffer, amibe elmentjük az si kezdeti értékét<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">startp5:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buf,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;elõbb mondtam, itt mentjük el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,long </font><I><font color="#808080">;dl-be azt, hogy mennyi bájtot kell rendezni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop51:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> p,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;p-t nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,buf </font><I><font color="#808080">;si-be a kezdeti értékét</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000"> </font><I><font color="#808080">;dl-be eggyel kevesebbet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> vegep5 </font><I><font color="#808080">;ha dl=0 akkor vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><I><font color="#0000FF">dl</font></I><font color="#000000"> </font><I><font color="#808080">;cl-be dl-t<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">atnezes:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük al-be, a buffer si-edik  bájtját</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">+</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;megnézzük hogyan viszonyul ez az  elem a következõvel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> gop52 </font><I><font color="#808080">;LÉNYEGES RÉSZ! Ha kisebb akkor ugrunk, ha ezt  átírjuk jae gop52-re akkor a legnagyobbtól a legkisebbig  rendez<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xchg</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">+</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;felcseréljük a két elemet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><I><font color="#0000FF">al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> p,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;és p-t egyesbe állítjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop52:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si köv. elemre mutasson</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl eggyel kevesebb</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> atnezes </font><I><font color="#808080">;ha cl még nem nulla, akkor vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> p,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;megnézzük p=1?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> gop51 </font><I><font color="#808080">;ha igen, ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep5:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">bubblesort </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;képernyõ törlése, 80x25-ös módba való váltással</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text1 </font></font></font><I><font color="#808080">;kiírjuk a text1-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,long </font><I><font color="#808080">;bevisszük azt az ax-be, hogy mennyi számot  kell megadni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii </font><I><font color="#808080">;kiírjukl ezt a számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text11 </font></font></font><I><font color="#808080">;itt meg a szöveg többi része<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> index,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;index=1, ez egyben ciklusváltozó is<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;itt olvassuk be a számokat</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir newline </font></font></font><I><font color="#808080">;írunk egy új sort</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,index </font><I><font color="#808080">;kiírjuk, hogy hanyadik számot adjuk meg épp</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text2 </font></font></font><I><font color="#808080">;és kiírjuk, hogy . szám:<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;string beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer_key </font><I><font color="#808080">;a buffer_key-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><font color="#000000"> </font><I><font color="#808080">;csináld<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;bx nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer_key[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;megnézzük, hogy a beolvasott két  karakter szám volt-e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer_key[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">39h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000"> </font><I><font color="#808080">;végignézzük a tömböt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer_key[</font><font color="#FF0000">1</font><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik3</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go2 </font><I><font color="#808080">;ha ide eljutunk, akkor minden rendben, mehetünk  tovább<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir hibauz1 </font></font></font><I><font color="#808080">;ha nem volt rendben, akkor kiírjuk, hogy  hiba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;és bekérjük még 1x<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer_key+</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;si-be a buffer második  bájtjára mutató mutató</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> asciibin </font><I><font color="#808080">;csinálunk belõle számot<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,index </font><I><font color="#808080">;si-be index</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer_sort[</font><I><font color="#0000FF">si</font></I><font color="#000000">-</font><font color="#FF0000">1</font><font color="#000000">],</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;elmentjük a buffer_sort-ba a  számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> index </font><I><font color="#808080">;index mutasson a buffer köv. elemére, a köv. mentéshez</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> index,long </font><I><font color="#808080">;megnézzük bekértük már az összes számot?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;ha még nem, akkor kérjük<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer_sort </font><I><font color="#808080">;na itt rendezzük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> bubblesort </font><I><font color="#808080">;ez csinálja<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text3 </font></font></font><I><font color="#808080">;kiírju, hogy a tömb rendezve</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> index,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;index=1<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir newline </font></font></font><I><font color="#808080">;újsor</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,index </font><I><font color="#808080">;ax-be index</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii </font><I><font color="#808080">;kiírjuk az index-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text2 </font></font></font><I><font color="#808080">;kiírjuk, hogy . szám:<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;ah-t nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,index </font><I><font color="#808080">;si-be index</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,buffer_sort[</font><I><font color="#0000FF">si</font></I><font color="#000000">-</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;buffer megfelelõ bájtját al-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii </font><I><font color="#808080">;kiírni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> index </font><I><font color="#808080">;index köv. elemre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> index,long </font><I><font color="#808080">;megnézzük kiírtuk már az összes elemet?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> cik2 </font><I><font color="#808080">;ha még nem, akkor vissza a cik2-re<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text4 </font></font></font><I><font color="#808080">;kiírjuk, hogy nyomj bármilyen bill.-t<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várás echo nélkül egy bill. lenyomására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;a vezérlés visszaadása az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="07"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 07<BR>
</font></I></font></font><BR>
<a href="07.zip">07.zip</a> <a href="07.exe">07.exe</a> <a href="07.asm">07.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely a beadott értékek halmazából kiválasztja a páros számokat, megjeleníti õket, és megjeleníti a mennyiségüket is. Jelentítse meg a beadott halmazt, amely 10 maximálisan kétjegyû egész számokból tartalmaz.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;EQU direktíva, a long szó jelentse azt, hogy 10</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">long </font></font></font><B><font color="#000080">EQU</font></B><font color="#000000"> </font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;írhattuk volna azt is, hogy long=10<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Paros szamok'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'------------$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Adj meg $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">' szamot!'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'. szam: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text5 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A beadott szamsor:'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text6 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A paros szamok:'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text7 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A paros szamok szama: '</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text8 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nyomj le egy billentyut a kilepeshez...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">newline </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><font color="#000000"> </font><I><font color="#808080">;új sor írására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A megadhato legnagyobb szam a 99!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer_key </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">3</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;a bill.-rõl beolvasott kar. számára buffer</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer_sort </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> long dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;ebben tároljuk a beolvasott  számokat</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">index </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;a tömb indexelésére</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">parosokszama </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;a páros számok számánank tárolására<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiir </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro egy karakter kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">putchar </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro szám kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">wnum </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro ASCII kódú szám binárissá alakítására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">num </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> asciibin</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro a számsor kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">wszamsor </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> kiirszamsor</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro a páros számok kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">wparos </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> kiirparos</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro a képernyõ törlésére</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">clrscr </font></font></font><B><font color="#000080">macro</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;80x25-ös mód beállítása, ezzel a kép. törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. bináris szám ASCII kódban való kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> binascii_start </font><I><font color="#808080">;átugorjuk a változót<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">flag </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ?<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag,</font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> binascii_go1 </font><I><font color="#808080">;ha nem akkor megyünk tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">'0'</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor kirakunk egy nullát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> binascii_vege </font><I><font color="#808080">;és megyünk a végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10000</font><font color="#000000"> </font><I><font color="#808080">;10000-rel fogunk osztani</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztás elõtt nullázni kell a dx-et<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;osztjuk az ax-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;a maradék az si-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> binascii_go2 </font><I><font color="#808080">;ha nem akkor binascii_go2-re</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> flag,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor flag=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> binascii_go3 </font><I><font color="#808080">;ha igen, ugrunk a binascii_go3-ra<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;al-hez adjunk hozzá 30h, ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;kitesszük a képernyõre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;már itt biztos volt kiírva karakter, ezért  flag egyesbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztót osztani kell 10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;dx nullázása, mint fent</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;kinullazza a dx-et, osztjuk az ax-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;megnézzük ax=1?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> binascii_vege </font><I><font color="#808080">;ha kisebb mint 1, akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ha nem, bx-be vissza az osztót</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;ax-be vissza a maradékot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> binascii_cik1 </font><I><font color="#808080">;vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérünk a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ASCII karaktereket alakít számmá</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet si - mutato buffer+1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">                   </font></font></font><I><font color="#808080">;kimenet ax - bin ertek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük a cl-be a beolvasott  karakterek számát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ax-et nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük volt-e beolvasott karakter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> asciibin_go1 </font><I><font color="#808080">;ha igen, akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> asciibin_vege </font><I><font color="#808080">;ha nem akkor vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin_go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el fogunk szorozni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;dx nullázva, szorozzuk az ax-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si köv. elemre mutasson</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük dl-be a karaktert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;levonunk belõle 30h, lásd ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;hozzáadjuk az ax-hez a számjegyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl-1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> asciibin_cik1 </font><I><font color="#808080">;addig míg cl!=0 vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin_vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. a számsor kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirszamsor </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet di - mutato a kiirando tombre, long a tomb hossza</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,long<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirszamsor_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;ah nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">di</font></I><font color="#000000">] </font><I><font color="#808080">;al-be bevisszük a számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wnum </font></font></font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;kiírjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">','</font><font color="#000000"> </font><I><font color="#808080">;kiírunk egy vesszõt is</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000"> </font><I><font color="#808080">;köv. index</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl-1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> kiirszamsor_cik1 </font><I><font color="#808080">;addig míg cl nem nulla<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#FF0000">8</font><font color="#000000"> </font><I><font color="#808080">;eggyel vissza</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#FF0000">32</font><font color="#000000"> </font><I><font color="#808080">;kiír egy szóközt, tehát utolsó kar. törölve, mit jelent ez? miért is kellett? azért, mert az utolsó szám  után is tettünk vesszõt, ezt kell eltüntetni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirszamsor </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. végge<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. a páros számok kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirparos </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet di - mutato a kiirando tombre, long a tomb hossza</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> parosokszama,</font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,long<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirparos_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><I><font color="#0000FF">ah</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">di</font></I><font color="#000000">]<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">test</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ugyanaz mint elõbb, csak itt meg kell nézni, hogy a szám páros-e vagy sem, és aszerint kiírni, ezt végzi a  test al,1, tehát megnézi, hogy a szám legalsó bitje 1-es-e, ha igen akkor páratlan, ha nem akkor páros, jnz azért, mert  ha 1- es akkor zf=0, ekkor elugrunk..</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> kiirparos_go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wnum </font></font></font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;kiírjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">','</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> parosokszama </font><I><font color="#808080">;itt meg megszámoljuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirparos_go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> kiirparos_cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#FF0000">8</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#FF0000">32</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirparos </font></font></font><B><font color="#000080">endp<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  clrscr </font></font></font><I><font color="#808080">;képernyõ törlése<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text1 </font></font></font><I><font color="#808080">;text1 kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text2</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wnum long </font></font></font><I><font color="#808080">;kiírja, hogy mennyi számot kell beadni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text3<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> index,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;index=1<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir newline </font></font></font><I><font color="#808080">;új sort ír</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wnum index </font></font></font><I><font color="#808080">;kiírja hanyadik számot adjuk épp meg</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text4<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;string beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer_key </font><I><font color="#808080">;ide kell menteni a beolvasott  kar.-eket</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;bx nullázása, ezzel fogunk címezni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer_key[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;meg kell nézni, hogy amit  beírtak szám-e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer_key[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">39h</font><font color="#000000"> </font><I><font color="#808080">;a számok az ASCII-ban a 30h-39h- s tartományban vannak</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer_key[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;ha nem ütött le semmit, az is hiba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik3</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go2<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir hibauz1 </font></font></font><I><font color="#808080">;itt írjuk ki a hibaüzit</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  num buffer_key+</font></font></font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;most már jó, átalakítjuk számmá<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,index </font><I><font color="#808080">;és elmentjük a buffer-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer_sort[</font><I><font color="#0000FF">si</font></I><font color="#000000">-</font><font color="#FF0000">1</font><font color="#000000">],</font><I><font color="#0000FF">al<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> index </font><I><font color="#808080">;ha még nincs elég számunk, akkor olvasunk be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> index,long</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  clrscr </font></font></font><I><font color="#808080">;letöröljük a képernyõt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text1<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text5</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wszamsor buffer_sort </font></font></font><I><font color="#808080">;kiírjuk a beolvasott számokat<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text6</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wparos buffer_sort </font></font></font><I><font color="#808080">;most csak a páros számokat írjuk ki<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text7</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wnum parosokszama </font></font></font><I><font color="#808080">;kiírjuk mennyi páros szám volt<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text8 </font></font></font><I><font color="#808080">;kiírjuk a text8-at<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várás egy karakterre echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;vezérlés visszaadása az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="08"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 08<BR>
</font></I></font></font><BR>
<a href="08.zip">08.zip</a> <a href="08.exe">08.exe</a> <a href="08.asm">08.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely a beadott értékek halmazából kiválasztja a páros számokat, megjeleníti õket, és megjeleníti a mennyiségüket is. Jelentítse meg a beadott halmazt, amely 10 maximálisan kétjegyû egész számokból tartalmaz.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;a hossz szó jelentse azt, hogy 10</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hossz=</font></font></font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;írhattuk volna azt is, hogy hossz EQU 10<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szoveg1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'A megadott szamokbol a parosak kiirasa'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szoveg2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Adj meg $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szoveg3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">' szamot!'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szoveg4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'. szam: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szoveg5 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A beadott szamsor:'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szoveg6 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Ebbol a paros szamok:'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szoveg7 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A paros szamok szama: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szoveg8 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nyomj le egy billentyut a kilepeshez...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">ujsor </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><font color="#000000"> </font><I><font color="#808080">;újsor írására 36=$</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer_szamok </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> hossz dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;buffer a beolvasott számoknak</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Max. 99!$'</font><font color="#000000"> </font><I><font color="#808080">;hibaüzi</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">3</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;a beolvasott kar. tárolására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">paros </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;a páros számok megszámolására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">i </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;a tömb indexelésére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiir </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> szoveg</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> szoveg</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro egy karakter kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">putchar </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro szám kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">wnum </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro ASCII kódú szám binárissá alakítására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">num </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> asciibin</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro a számsor kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">wszamsor </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> kiirszamsor</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro a páros számok kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">wparos </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> kiirparos</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro a képernyõ törlésére</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">clrscr </font></font></font><B><font color="#000080">macro</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;80x25-ös mód beállítása, ezzel a kép. törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. bináris szám ASCII kódban való kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> binascii_start </font><I><font color="#808080">;átugorjuk a változót<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">flag </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ?<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag,</font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> binascii_go1 </font><I><font color="#808080">;ha nem akkor megyünk tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">'0'</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor kirakunk egy nullát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> binascii_vege </font><I><font color="#808080">;és megyünk a végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10000</font><font color="#000000"> </font><I><font color="#808080">;10000-rel fogunk osztani</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztás elõtt nullázni kell a dx-et<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;osztjuk az ax-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;a maradék az si-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> binascii_go2 </font><I><font color="#808080">;ha nem akkor binascii_go2-re</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> flag,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor flag=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> binascii_go3 </font><I><font color="#808080">;ha igen, ugrunk a binascii_go3-ra<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;al-hez adjunk hozzá 30h, ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;kitesszük a képernyõre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;már itt biztos volt kiírva karakter, ezért  szemafor egyesbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztót osztani kell 10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;dx nullázása, mint fent</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;kinullazza a dx-et, osztjuk az ax-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;megnézzük ax=1?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> binascii_vege </font><I><font color="#808080">;ha kisebb mint 1, akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ha nem, bx-be vissza az osztót</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;ax-be vissza a maradékot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> binascii_cik1 </font><I><font color="#808080">;vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérünk a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ASCII karaktereket alakít számmá</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet si - mutato buffer+1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">                   </font></font></font><I><font color="#808080">;kimenet ax - bin ertek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük a cl-be a beolvasott  karakterek számát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ax-et nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük volt-e beolvasott karakter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> asciibin_go1 </font><I><font color="#808080">;ha igen, akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> asciibin_vege </font><I><font color="#808080">;ha nem akkor vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin_go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el fogunk szorozni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;dx nullázva, szorozzuk az ax-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si köv. elemre mutasson</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük dl-be a karaktert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;levonunk belõle 30h, lásd ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;hozzáadjuk az ax-hez a számjegyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl-1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> asciibin_cik1 </font><I><font color="#808080">;addig míg cl!=0 vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin_vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. a számsor kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirszamsor </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet di - mutato a kiirando tombre, hossz a tomb hossza</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,hossz<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirszamsor_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;ah nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">di</font></I><font color="#000000">] </font><I><font color="#808080">;al-be bevisszük a számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wnum </font></font></font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;kiírjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">','</font><font color="#000000"> </font><I><font color="#808080">;kiírunk egy vesszõt is</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000"> </font><I><font color="#808080">;köv. i</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl-1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> kiirszamsor_cik1 </font><I><font color="#808080">;addig míg cl nem nulla<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#FF0000">8</font><font color="#000000"> </font><I><font color="#808080">;eggyel vissza</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#FF0000">32</font><font color="#000000"> </font><I><font color="#808080">;kiír egy szóközt, tehát utolsó kar. törölve, mit jelent ez? miért is kellett? azért, mert az utolsó szám  után is tettünk vesszõt, ezt kell eltüntetni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirszamsor </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. végge<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. a páros számok kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirparos </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet di - mutato a kiirando tombre, hossz a tomb hossza</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> paros,</font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,hossz<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirparos_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><I><font color="#0000FF">ah</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">di</font></I><font color="#000000">]<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">test</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ugyanaz mint elõbb, csak itt meg kell nézni, hogy a szám páros-e vagy sem, és aszerint kiírni, ezt végzi a  test al,1, tehát megnézi, hogy a szám legalsó bitje 1-es-e, ha igen akkor páratlan, ha nem akkor páros, jnz azért, mert  ha 1- es akkor zf=0, ekkor elugrunk..</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> kiirparos_go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wnum </font></font></font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;kiírjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">','</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> paros </font><I><font color="#808080">;itt meg megszámoljuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirparos_go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> kiirparos_cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#FF0000">8</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#FF0000">32</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirparos </font></font></font><B><font color="#000080">endp<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  clrscr </font></font></font><I><font color="#808080">;képernyõ törlése<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir szoveg1 </font></font></font><I><font color="#808080">;szoveg1 kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir szoveg2</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wnum hossz </font></font></font><I><font color="#808080">;kiírja, hogy mennyi számot kell beadni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir szoveg3<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> i,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;i=1<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir ujsor </font></font></font><I><font color="#808080">;új sort ír</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wnum i </font></font></font><I><font color="#808080">;kiírja hanyadik számot adjuk épp meg</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir szoveg4<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;string beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;ide kell menteni a beolvasott  kar.-eket</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;bx nullázása, ezzel fogunk címezni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;meg kell nézni, hogy amit  beírtak szám-e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">39h</font><font color="#000000"> </font><I><font color="#808080">;a számok az ASCII-ban a 30h-39h- s tartományban vannak</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;ha nem ütött le semmit, az is hiba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik3</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go2<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir hibauz </font></font></font><I><font color="#808080">;itt írjuk ki a hibaüzit</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  num buffer+</font></font></font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;most már jó, átalakítjuk számmá<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,i </font><I><font color="#808080">;és elmentjük a buffer-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer_szamok[</font><I><font color="#0000FF">si</font></I><font color="#000000">-</font><font color="#FF0000">1</font><font color="#000000">],</font><I><font color="#0000FF">al<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> i </font><I><font color="#808080">;ha még nincs elég számunk, akkor olvasunk be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> i,hossz</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  clrscr </font></font></font><I><font color="#808080">;letöröljük a képernyõt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir szoveg1<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir szoveg5</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wszamsor buffer_szamok </font></font></font><I><font color="#808080">;kiírjuk a beolvasott számokat<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir szoveg6</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wparos buffer_szamok </font></font></font><I><font color="#808080">;most csak a páros számokat írjuk ki<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir szoveg7</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wnum paros </font></font></font><I><font color="#808080">;kiírjuk mennyi páros szám volt<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir szoveg8 </font></font></font><I><font color="#808080">;kiírjuk a szoveg8-at<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várás egy karakterre echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;vezérlés visszaadása az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="09"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 09<BR>
</font></I></font></font><BR>
<a href="09.zip">09.zip</a> <a href="09.exe">09.exe</a> <a href="09.asm">09.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely a beadott értékek halmazát rendezi kisebbtõl a nagyobbig. Jelenítse meg a beadott halmazt, amely 10 maximálisan kétjegyû egész számokból áll.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">long </font></font></font><B><font color="#000080">EQU</font></B><font color="#000000"> </font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;a long jelentse azt, hogy 10, ezzel jelezzük a  beolvasandó számok mennyiségét, egyben a tárolásukra használt  tömb hossza<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Legkisebbtol a legnagyobbig'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'---------------------------$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text11 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Adj meg $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">' szamot!'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'. szam: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A beadott szamsor:'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text5 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A szamok rendezve:'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text6 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nyomj le egy billentyut a kilepeshez...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">newline </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><font color="#000000"> </font><I><font color="#808080">;új sor irásához</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A megadhato legnagyobb szam a 99!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer_key </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">3</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;ide olvassuk be az egyes  karaktereket</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer_sort </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> long dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;ide mentjük a beolvasott számokat</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemafor </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;binascii procedúrának</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">index </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;a buffer_sort tömb indexelésére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiir </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro egy karakter kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">putchar </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro szám kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">wnum </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">num </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> asciibin</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro a számsor kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">wszamsor </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> kiirszamsor</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro a képernyõ törlésére</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">clrscr </font></font></font><B><font color="#000080">macro</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;80x25-ös mód beállítása, ezzel a kép. törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;procedúra bináris szám kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;szemafor nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop21 </font><I><font color="#808080">;ha nem akkor megyünk tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">'0'</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor kirakunk egy nullát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vegep2 </font><I><font color="#808080">;és megyünk a végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop21:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10000</font><font color="#000000"> </font><I><font color="#808080">;10000-rel fogunk osztani</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztás elõtt nullázni kell a dx-et<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp21:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;osztjuk az ax-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;a maradék az si-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop22 </font><I><font color="#808080">;ha nem akkor gop22-re</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor szemafor=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> gop23 </font><I><font color="#808080">;ha igen, ugrunk a gop23-ra<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop22:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;al-hez adjunk hozzá 30h, ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;kitesszük a képernyõre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;már itt biztos volt kiírva karakter, ezért  szemafor egyesbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop23:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztót osztani kell 10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;dx nullázása, mint fent</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;kinullazza a dx-et, osztjuk az ax-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;megnézzük ax=1?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> vegep2 </font><I><font color="#808080">;ha kisebb mint 1, akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ha nem, bx-be vissza az osztót</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;ax-be vissza a maradékot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cikp21 </font><I><font color="#808080">;vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérünk a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ASCII karaktereket alakít számmá</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet si - mutato buffer+1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">                   </font></font></font><I><font color="#808080">;kimenet ax - bin ertek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük a cl-be a beolvasott  karakterek számát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ax-et nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük volt-e beolvasott karakter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> gop31 </font><I><font color="#808080">;ha igen, akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vegep3 </font><I><font color="#808080">;ha nem akkor vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop31:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el fogunk szorozni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp31:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;dx nullázva, szorozzuk az ax-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si köv. elemre mutasson</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük dl-be a karaktert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;levonunk belõle 30h, lásd ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;hozzáadjuk az ax-hez a számjegyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl-1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> cikp31 </font><I><font color="#808080">;addig míg cl!=0 vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ez a lényeg, a rendezõ algoritmus</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;bubblesort-ot használjuk, mivel kevés az elemszám</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">bubblesort </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet si - mutato a rendezendo tomb  elso elemere, long a tomb hossza</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> startp5 </font><I><font color="#808080">;átugorjuk a változókat<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">p </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;egy szemafor, hogy tudjuk volt csere</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buf </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;buffer, amibe elmentjük az si kezdeti értékét<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">startp5:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buf,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;elõbb mondtam, itt mentjük el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,long </font><I><font color="#808080">;dl-be azt, hogy mennyi bájtot kell rendezni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop51:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> p,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;p-t nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,buf </font><I><font color="#808080">;si-be a kezdeti értékét</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000"> </font><I><font color="#808080">;dl-be eggyel kevesebbet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> vegep5 </font><I><font color="#808080">;ha dl=0 akkor vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><I><font color="#0000FF">dl</font></I><font color="#000000"> </font><I><font color="#808080">;cl-be dl-t<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">atnezes:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük al-be, a buffer si-edik  bájtját</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">+</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;megnézzük hogyan viszonyul ez az  elem a következõvel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> gop52 </font><I><font color="#808080">;LÉNYEGES RÉSZ! Ha kisebb akkor ugrunk, ha ezt  átírjuk jae gop52-re akkor a legnagyobbtól a legkisebbig  rendez<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xchg</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">+</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;felcseréljük a két elemet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><I><font color="#0000FF">al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> p,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;és p-t egyesbe állítjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop52:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si köv. elemre mutasson</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl eggyel kevesebb</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> atnezes </font><I><font color="#808080">;ha cl még nem nulla, akkor vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> p,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;megnézzük p=1?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> gop51 </font><I><font color="#808080">;ha igen, ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep5:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">bubblesort </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. a számsor kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirszamsor </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet di - mutato a kiirando tombre, long a tomb hossza</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,long </font><I><font color="#808080">;cl-be a tömb hosszát<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp61:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;ah nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">di</font></I><font color="#000000">] </font><I><font color="#808080">;al-be a di által közvetlenül  megcímzett memóriarekesz tartalmát, egy bájtot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wnum </font></font></font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;kiírjuk az ax-ben levõ számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">','</font><font color="#000000"> </font><I><font color="#808080">;kiteszünk egy vesszõt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000"> </font><I><font color="#808080">;di köv. elemre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl-1, a cl a ciklusszámláló, evvel adom meg, hogy  mennyiszer fusson le a ciklus</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> cikp61 </font><I><font color="#808080">;addig míg cl nem nulla<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#FF0000">8</font><font color="#000000"> </font><I><font color="#808080">;heh, a végén maradt egy fölösleges vesszõ, ez  nekünk nem kell, ezért a 8-as ASCII karakterrel visszalépünk  egyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#FF0000">32</font><font color="#000000"> </font><I><font color="#808080">;és kiírunk egy SPACE-t (szóközt)</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérünk a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiirszamsor </font></font></font><B><font color="#000080">endp<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  clrscr </font></font></font><I><font color="#808080">;képernyõ törlése<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;kezdõképernyõ felépítése</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text1  </font></font></font><I><font color="#808080">;text1 kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text11</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wnum long </font></font></font><I><font color="#808080">;ez azért, hogy ha átírjuk fent a long-ot, akkor  az alapján írja ki, hogy adj meg xxx számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text2<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> index,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;index 1-esbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ez a rész olvassa be a számokat</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir newline </font></font></font><I><font color="#808080">;új sor</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wnum index </font></font></font><I><font color="#808080">;hanyadik számnál vagyunk? írjuk ki</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text3 </font></font></font><I><font color="#808080">;és azt is, hogy . szám:<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;string beolvasása a bill.-rõl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer_key </font><I><font color="#808080">;a buffer_key-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><font color="#000000"> </font><I><font color="#808080">;lets go<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;itt végignézzük a beolvasott karaktereket, ha mindegyik  számjegy volt akkor ok, és elmentjük, ha nem akkor hibaüzi, és  nem mentünk</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;bx nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer_key[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">30h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> go1 </font><I><font color="#808080">;a karakter kisebb mint 30h=0? Ha igen az baj</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer_key[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">39h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go1 </font><I><font color="#808080">;a karakter nagyobb mint 39h=9 Ha igen az baj</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000"> </font><I><font color="#808080">;köv. elem</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer_key[</font><font color="#FF0000">1</font><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik3 </font><I><font color="#808080">;addig míg végig nem nézzük a tömb összes elemét</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go2 </font><I><font color="#808080">;ha ide eljutuk, akkor mehetünk tovább<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir hibauz1 </font></font></font><I><font color="#808080">;hibaüzi kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;és vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  num buffer_key+</font></font></font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;átalakítjuk a buffer_key-ben levõ  számot, hogy miért buffer_key+1? Lásd a asciibin proc.!<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,index </font><I><font color="#808080">;elmentjük a számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer_sort[</font><I><font color="#0000FF">si</font></I><font color="#000000">-</font><font color="#FF0000">1</font><font color="#000000">],</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;a tömbünkbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> index </font><I><font color="#808080">;index a köv. elemre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> index,long </font><I><font color="#808080">;megnézzük kell-e még elem</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;ha igen, akkor olvasunk még<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;kész, a számokat beolvastuk</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  clrscr </font></font></font><I><font color="#808080">;kép. törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text1 </font></font></font><I><font color="#808080">;text1 kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text4 </font></font></font><I><font color="#808080">;text4 kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wszamsor buffer_sort </font></font></font><I><font color="#808080">;a beolvasott számok kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer_sort </font><I><font color="#808080">;rendezés</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> bubblesort<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text5 </font></font></font><I><font color="#808080">;a rendezett számsor kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  wszamsor buffer_sort<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text6 </font></font></font><I><font color="#808080">;a nyomj egy bill.-t a kilépéshez kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várás egy bill.-re echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;vezérlés visszaadása az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél a program belépési pontja</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="10"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 10<BR>
</font></I></font></font><BR>
<a href="10.zip">10.zip</a> <a href="10.exe">10.exe</a> <a href="10.asm">10.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely beadott értékek halmazát rendezi nagyobbtól a kisebbig, és megjeleníti õket a képernyõn. Jelenítse meg a beadott halmazt is, amely 10 maximálisan kétjegyû egész számot tartalmaz.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hossz </font></font></font><B><font color="#000080">EQU</font></B><font color="#000000"> </font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;a hossz jelentse azt, hogy 10, ezzel jelezzük a  beolvasandó számok mennyiségét, egyben a tárolásukra használt  tömb hossza<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szoveg1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Legkisebbtol a legnagyobbig'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szoveg11 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Adj meg $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szoveg2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">' szamot!'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szoveg3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'. szam: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szoveg4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A beadott szamsor:'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szoveg5 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A szamok rendezve:'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szoveg6 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nyomj le egy billentyut a kilepeshez...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">newline </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><font color="#000000"> </font><I><font color="#808080">;új sor irásához</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Min 0, max 99!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer_key </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">3</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;ide olvassuk be az egyes  karaktereket</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer_sort </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> hossz dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;ide mentjük a beolvasott számokat</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemafor </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;binascii procedúrának</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">i </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;a buffer_sort tömb indexelésére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">pstring </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> szoveg</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> szoveg</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro egy karakter kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">putchar </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro szám kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">writenumber </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">number </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> asciibin</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro a számsor kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">writeszamsor </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> param</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> pstringszamsor</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro a képernyõ törlésére</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">clrscr </font></font></font><B><font color="#000080">macro</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;80x25-ös mód beállítása, ezzel a kép. törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;procedúra bináris szám kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;szemafor nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop21 </font><I><font color="#808080">;ha nem akkor megyünk tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">'0'</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor kirakunk egy nullát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vegep2 </font><I><font color="#808080">;és megyünk a végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop21:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10000</font><font color="#000000"> </font><I><font color="#808080">;10000-rel fogunk osztani</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztás elõtt nullázni kell a dx-et<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp21:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;osztjuk az ax-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;a maradék az si-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop22 </font><I><font color="#808080">;ha nem akkor binascii_go2-re</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor szemafor=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> gop23 </font><I><font color="#808080">;ha igen, ugrunk a binascii_go3-ra<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop22:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;al-hez adjunk hozzá 30h, ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;kitesszük a képernyõre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;már itt biztos volt kiírva karakter, ezért  szemafor egyesbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop23:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztót osztani kell 10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;dx nullázása, mint fent</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;kinullazza a dx-et, osztjuk az ax-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;megnézzük ax=1?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> vegep2 </font><I><font color="#808080">;ha kisebb mint 1, akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ha nem, bx-be vissza az osztót</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;ax-be vissza a maradékot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cikp21 </font><I><font color="#808080">;vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérünk a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ASCII karaktereket alakít számmá</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet si - mutato buffer+1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">                   </font></font></font><I><font color="#808080">;kimenet ax - bin ertek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük a cl-be a beolvasott  karakterek számát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ax-et nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük volt-e beolvasott karakter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> gop31 </font><I><font color="#808080">;ha igen, akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vegep3 </font><I><font color="#808080">;ha nem akkor vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop31:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el fogunk szorozni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp31:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;dx nullázva, szorozzuk az ax-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si köv. elemre mutasson</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük dl-be a karaktert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;levonunk belõle 30h, lásd ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;hozzáadjuk az ax-hez a számjegyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl-1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> cikp31 </font><I><font color="#808080">;addig míg cl!=0 vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ez a lényeg, a rendezõ algoritmus</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;bubblesort-ot használjuk, mivel kevés az elemszám</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">bubblesort </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet si - mutato a rendezendo tomb  elso elemere, hossz a tomb hossza</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> startp5 </font><I><font color="#808080">;átugorjuk a változókat<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">p </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;egy szemafor, hogy tudjuk volt csere</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buf </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;buffer, amibe elmentjük az si kezdeti értékét<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">startp5:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buf,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;elõbb mondtam, itt mentjük el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,hossz </font><I><font color="#808080">;dl-be azt, hogy mennyi bájtot kell rendezni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop51:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> p,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;p-t nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,buf </font><I><font color="#808080">;si-be a kezdeti értékét</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000"> </font><I><font color="#808080">;dl-be eggyel kevesebbet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> vegep5 </font><I><font color="#808080">;ha dl=0 akkor vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><I><font color="#0000FF">dl</font></I><font color="#000000"> </font><I><font color="#808080">;cl-be dl-t<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">atnezes:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük al-be, a buffer si-edik  bájtját</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">+</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;megnézzük hogyan viszonyul ez az  elem a következõvel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jae</font></B><font color="#000000"> gop52 </font><I><font color="#808080">;LÉNYEGES RÉSZ! Ha kisebb akkor ugrunk, ha ezt  átírjuk jbe gop52-re akkor a legkisebbtõl a legnagyobbig  rendez<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xchg</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">+</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;felcseréljük a két elemet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><I><font color="#0000FF">al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> p,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;és p-t egyesbe állítjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop52:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si köv. elemre mutasson</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl eggyel kevesebb</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> atnezes </font><I><font color="#808080">;ha cl még nem nulla, akkor vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> p,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;megnézzük p=1?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> gop51 </font><I><font color="#808080">;ha igen, ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep5:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">bubblesort </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. a számsor kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">pstringszamsor </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet di - mutato a pstringando tombre, hossz a tomb hossza</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,hossz </font><I><font color="#808080">;cl-be a tömb hosszát<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp61:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;ah nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">di</font></I><font color="#000000">] </font><I><font color="#808080">;al-be a di által közvetlenül  megcímzett memóriarekesz tartalmát, egy bájtot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  writenumber </font></font></font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;kiírjuk az ax-ben levõ számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">','</font><font color="#000000"> </font><I><font color="#808080">;kiteszünk egy vesszõt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000"> </font><I><font color="#808080">;di köv. elemre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl-1, a cl a ciklusszámláló, evvel adom meg, hogy  mennyiszer fusson le a ciklus</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> cikp61 </font><I><font color="#808080">;addig míg cl nem nulla<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#FF0000">8</font><font color="#000000"> </font><I><font color="#808080">;heh, a végén maradt egy fölösleges vesszõ, ez  nekünk nem kell, ezért a 8-as ASCII karakterrel visszalépünk  egyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#FF0000">32</font><font color="#000000"> </font><I><font color="#808080">;és kiírunk egy SPACE-t (szóközt)</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérünk a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">pstringszamsor </font></font></font><B><font color="#000080">endp<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  clrscr </font></font></font><I><font color="#808080">;képernyõ törlése<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;kezdõképernyõ felépítése</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring szoveg1  </font></font></font><I><font color="#808080">;szoveg1 kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring szoveg11</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  writenumber hossz </font></font></font><I><font color="#808080">;ez azért, hogy ha átírjuk fent a hossz-ot, akkor  az alapján írja ki, hogy adj meg xxx számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring szoveg2<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> i,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;i 1-esbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ez a rész olvassa be a számokat</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring newline </font></font></font><I><font color="#808080">;új sor</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  writenumber i </font></font></font><I><font color="#808080">;hanyadik számnál vagyunk? írjuk ki</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring szoveg3 </font></font></font><I><font color="#808080">;és azt is, hogy . szám:<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;string beolvasása a bill.-rõl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer_key </font><I><font color="#808080">;a buffer_key-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><font color="#000000"> </font><I><font color="#808080">;lets go<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;itt végignézzük a beolvasott karaktereket, ha mindegyik  számjegy volt akkor ok, és elmentjük, ha nem akkor hibaüzi, és  nem mentünk</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;bx nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer_key[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">30h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> go1 </font><I><font color="#808080">;a karakter kisebb mint 30h=0? Ha igen az baj</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer_key[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">39h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go1 </font><I><font color="#808080">;a karakter nagyobb mint 39h=9 Ha igen az baj</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000"> </font><I><font color="#808080">;köv. elem</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer_key[</font><font color="#FF0000">1</font><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik3 </font><I><font color="#808080">;addig míg végig nem nézzük a tömb összes elemét</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go2 </font><I><font color="#808080">;ha ide eljutuk, akkor mehetünk tovább<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz1 </font></font></font><I><font color="#808080">;hibaüzi kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;és vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  number buffer_key+</font></font></font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;átalakítjuk a buffer_key-ben levõ  számot, hogy miért buffer_key+1? Lásd a asciibin proc.!<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,i </font><I><font color="#808080">;elmentjük a számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer_sort[</font><I><font color="#0000FF">si</font></I><font color="#000000">-</font><font color="#FF0000">1</font><font color="#000000">],</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;a tömbünkbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> i </font><I><font color="#808080">;i a köv. elemre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> i,hossz </font><I><font color="#808080">;megnézzük kell-e még elem</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;ha igen, akkor olvasunk még<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;kész, a számokat beolvastuk</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  clrscr </font></font></font><I><font color="#808080">;kép. törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring szoveg1 </font></font></font><I><font color="#808080">;szoveg1 kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring szoveg4 </font></font></font><I><font color="#808080">;szoveg4 kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  writeszamsor buffer_sort </font></font></font><I><font color="#808080">;a beolvasott számok kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer_sort </font><I><font color="#808080">;rendezés</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> bubblesort<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring szoveg5 </font></font></font><I><font color="#808080">;a rendezett számsor kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  writeszamsor buffer_sort<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring szoveg6 </font></font></font><I><font color="#808080">;a nyomj egy bill.-t a kilépéshez kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várás egy bill.-re echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;vezérlés visszaadása az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél a program belépési pontja</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="11"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 11<BR>
</font></I></font></font><BR>
<a href="11.zip">11.zip</a> <a href="11.exe">11.exe</a> <a href="11.asm">11.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot szöveges állomány létrehozására a lemezen, és a megtöltésére a bill. beadott karakterekkel. A tevékenység befejezõ karakterének az ESC bill. válassza. Megjegyzés: a vezérlõ billentyûket, nyilakat és a Backspace bill. ignorálja!<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Add meg a kivant fajlnevet: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nyomj le egy billentyut a folytatashoz...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A szoveg sikeresen elmentve a(z) $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">' allomanyba!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nem talalom az utat!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nincs engedelyezve a hozzaferes!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Ismeretlen hiba!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nem tudom letrehozni a fajlt! (Lehet, hogy mar letezik?)$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">file </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;FILE HANDLE szám eltárolására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemaforfile </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;volt-e megnyitott fájl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer_key </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">65</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">65</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;ide mentjük a beolvasott  fájlnevet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">ir </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;ide mentjük a beolvasott karaktert<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">ps </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro egy karakter olvasására echo nélkül</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">olvas </font></font></font><B><font color="#000080">macro</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro a képernyõ törlésére</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">clrscr </font></font></font><B><font color="#000080">macro</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;váltunk 80x25-ös módba, evvel töröljük a kép.</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullazása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  clrscr </font></font></font><I><font color="#808080">;képernyõ törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  ps text1 </font></font></font><I><font color="#808080">;text1 kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;fájlnév beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer_key </font><I><font color="#808080">;ide olvasunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><font color="#000000"> </font><I><font color="#808080">;csináld!<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><I><font color="#0000FF">bh</font></I><font color="#000000"> </font><I><font color="#808080">;bh nullázása, azért, mert a bx-et fogjuk  használni, de nem fogunk írni a bh-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer_key[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;bl-be a beolvasott karakterek száma</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer_key[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ez alapján a string végére egy  nullát<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><I><font color="#0000FF">dh</font></I><font color="#000000"> </font><I><font color="#808080">;a fájl megnyitása, azért, hogy ne írjuk felül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;normal file, al=0</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer_key[</font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;buffer_key elsõ két bájtját  át kell ugorni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha megnyitotta, akkor az nekünk hiba<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  ps hibauz4 </font></font></font><I><font color="#808080">;kiírjuk hogy hiba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> abort </font><I><font color="#808080">;és kilépunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;létrehozunk fájlt írásra</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><I><font color="#0000FF">cx</font></I><font color="#000000"> </font><I><font color="#808080">;normal fájl, cx=0</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer_key[</font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;fájl neve</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ha hiba keletkezett, akkor ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> file,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;file-be a FILE HANDLE szám</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemaforfile,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;szemafor egyesbe, hisz most nyitottuk  meg<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  ps text2 </font></font></font><I><font color="#808080">;text2 kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  olvas </font></font></font><I><font color="#808080">;várunk egy karakterre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  clrscr </font></font></font><I><font color="#808080">;képernyõ törlése<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  olvas </font></font></font><I><font color="#808080">;egy karakter beolvasása echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> ir,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;elmentjük ezt a karaktert<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> ir,</font><font color="#FF0000">27</font><font color="#000000"> </font><I><font color="#808080">;megnézzük nem ESCAPE-e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go2 </font><I><font color="#808080">;ha igen, ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;itt leellenõrizzuk, hogy normális karaktert ütött le, nem  valami speciális vezérlõt</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> ir,</font><font color="#FF0000">20h</font><font color="#000000"> </font><I><font color="#808080">;norm. karakterek 20h-tól 7fh-ig</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;ha kisebb mint ez, akkor vissza az elejére</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> ir,</font><font color="#FF0000">7</font><font color="#000000">fh</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;szintén, csak ha nagyobb<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">40h</font><font color="#000000"> </font><I><font color="#808080">;írás fájlba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file </font><I><font color="#808080">;file-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;1 bájtot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> ir </font><I><font color="#808080">;ir nevû bájtot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk a képernyõre is</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,ir</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><I><font color="#0000FF">bh</font></I><font color="#000000"> </font><I><font color="#808080">;bh nullázása, mint elõbb fent</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer_key[</font><font color="#FF0000">1</font><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer_key[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#008000">'$'</font><font color="#000000"> </font><I><font color="#808080">;csak most a végére egy  dollárjelet teszünk, mert a 9-es DOS szolgáltatással akarjuk  kiírni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  ps text3 </font></font></font><I><font color="#808080">;text3 kiírni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  ps buffer_key[</font></font></font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;elsõ két bájtot nem kell kiírni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  ps text4 </font></font></font><I><font color="#808080">;a szöveg további része<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;ugrás végére, átugorjuk a hibaüziket<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;ax=3?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba1 </font><I><font color="#808080">;ha igen, akkor ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">5</font><font color="#000000"> </font><I><font color="#808080">;ax=5?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba2 </font><I><font color="#808080">;ha igen, akkor ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  ps hibauz3 </font></font></font><I><font color="#808080">;ha egyik se, akkor ismeretlen hiba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;ugrunk végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  ps hibauz1 </font></font></font><I><font color="#808080">;kiírjuk a hibauz1-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;ugrás végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  ps hibauz2<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemaforfile,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;megnézzük volt-e megnyitott fájl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> abort </font><I><font color="#808080">;ha nem akkor vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000">eh </font><I><font color="#808080">;ha volt, lezárjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">abort:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;visszaadjuk a vezérlést az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="12"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 12<BR>
</font></I></font></font><BR>
<a href="12.zip">12.zip</a> <a href="12.exe">12.exe</a> <a href="12.asm">12.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot a szöveges állományok megjelenítésére a képernyõn. Az állomány nevét kérje be a billentyûzetrõl. Ha a megadott állomány nem létezik, jelenítsen meg hibaüzenetet: &quot;A megadott állomány nem létezik!&quot;. A képernyõ betelésekor az utolsó sorban jelenítse meg: &quot;Üss le egy billentyût a folytatáshoz...&quot;.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer_file </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ?</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer_key </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">65</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">65</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">)</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'File: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Press any key to continue or q to terminate... $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Press any key to terminate... $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Cant find the path$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Access denied!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'The file doesnt exist!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Unknown error$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">file </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ?</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemafor </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;egy egyszerû procedúra, kiírja a képernyõre a dx-be megadott stringet, majd pedig vár egy bill. leütésére</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">waitproc </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">; bemenet: dx, kimenet: con, al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;töröljük a buffert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">07h</font><font color="#000000"> </font><I><font color="#808080">;várunk egy bill.-re</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">waitproc </font></font></font><B><font color="#000080">endp<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása, string kiírás miatt<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk a kezdõszöveget</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,text1 </font><I><font color="#808080">;bevisszük a dx-be a text1 offsetcímét</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;fájlnév beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,buffer_key</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><I><font color="#0000FF">bh</font></I><font color="#000000"> </font><I><font color="#808080">;bh törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer_key[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;bevisszük bl-be hány karaktert olvastunk be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer_key[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;a buffer végére teszünk egy 0-at<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><I><font color="#0000FF">dh</font></I><font color="#000000"> </font><I><font color="#808080">;megnyitjuk a fájlt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;normal fájl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,buffer_key</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;az elsõ két bájtot átugorjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ugrunk, ha hiba van</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> file,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;elmentjuk a FILE HANDLE-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;szemafor egyesbe, mert van megnyitott fájl<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;töröljük a képernyõt, 80x25 módba váltással</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000">fh </font><I><font color="#808080">;olvasunk a fájlból</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file </font><I><font color="#808080">;FILE HANDLE bevitele bx-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;1 bájtot fogunk olvasni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,buffer_file </font><I><font color="#808080">;ide fogunk olvasni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;hiba - ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha ax = 0 és nem volt hiba, EOF  vége a fájlnak</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> vege </font><I><font color="#808080">;tehát befejezzük a programot<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;megnézzük a képernyõ hányadik sorába vagyunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;nulladik lapon vagyunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">dh</font></I><font color="#000000">,</font><font color="#FF0000">23</font><font color="#000000"> </font><I><font color="#808080">;ha a 24. sorba vagyunk figyelünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> felt1 </font><I><font color="#808080">;megnézzük, hogy mi teljesül még</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> ird </font><I><font color="#808080">;ha nem a 24. sorba kiírjuk a beolvasott bájtot<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">felt1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">79</font><font color="#000000"> </font><I><font color="#808080">;vizsgálódunk tovább, 80. oszlopba vagyunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> varj </font><I><font color="#808080">;ha igen, ez azt jelenti: 24. sor 80. oszlop &gt; kiírjuk a Press any key to continue-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer_file,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;az is fontos, hogy ha nem is vagyunk a 80. oszlopba, ha a fájlban új sort kezdünk, már akkor is ki kell írni a szöveget</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> varj<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">ird:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk a beolvasott bájtot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,buffer_file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;újra elõre és olvasunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">varj:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,text2 </font><I><font color="#808080">;megadjuk, hogy mit akarunk kiírni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> waitproc </font><I><font color="#808080">;kiírjuk és várunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#008000">'q'</font><font color="#000000"> </font><I><font color="#808080">;megnézzük, mit nyomtunk le</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> abort </font><I><font color="#808080">;ha q-t kilépünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;töröljük a képernyõt, 80x25-s módba való lépéssel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer_file,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;ha új sort kezdtünk a fájlba, ezt nem írjuk ki az új képernyõre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> ird</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;újra elõre és olvasunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;megnézzük milyen hiba keletkezett</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba1 </font><I><font color="#808080">;és aszerint ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">5</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba3<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;ha egyik se, kiírjuk, hogy ismeretlen</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,hibauz4</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,hibauz1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">, hibauz2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,hibauz3</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,text3 </font><I><font color="#808080">;kiírjuk a text3-at és várunk egy bill.-re</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> waitproc<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük volt-e megnyitva fájl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> abort </font><I><font color="#808080">;ha nem kilépünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000">eh </font><I><font color="#808080">;ha igen, bezárjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">abort:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;a vezérlés visszaadása az op-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code szegmens lezárása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél lépünk be a programba]</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="13"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 13<BR>
</font></I></font></font><BR>
<a href="13.zip">13.zip</a> <a href="13.exe">13.exe</a> <a href="13.asm">13.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, ami kitöröli az aktuális mappából az összes fájlt, amely régebbi mint a billentyûzetrõl megadott dátum.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><B><font color="#000080">assume</font></B></font></font><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciiz </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'*.*'</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;4eh ill. 4fh szolg. mit keressen: az  ;aktuális mappában az összes fájlt, utána döntjük el, hogy  ;törölni kell vagy sem</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Add meg a datumot nn-hh-ee formaban: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A program most kitorli az osszes allomanyt az aktualis mappabol,'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">, </font><font color="#008000">'amelyek regebbiek mint az aktualis datum!'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">     </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Szeretne folytatni? y/n: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Hiba keletkezett, a program most befejezodik...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Uss le barmilyen billentyut...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text5 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A fajlok kitorolve!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text6 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nem lett kitorolve semmilyen allomany!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">chyba1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Hiba lepett fel, probald meg meg egyszer!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">9</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;a beolvasott dátum tárolására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">dta </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">128</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;a dta-nak</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">evm </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;a beolvasott dátumból az év tárolására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hom </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;a hónap</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">napm </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;ill. a nap</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">flag </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;volt törölve fájl? ez mondja meg, hogy igen vagy  ;nem<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro text kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">write </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. ascii ==&gt; bináris átalakításra</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet si - mutato buffer, cl hossz</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">                   </font></font></font><I><font color="#808080">;kimenet ax - bin ertek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;kicsit módosítottam, itt a hosszt a cl  ;tartalmazza</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> asciibin_go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin_go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;dx nullázva, ax szorozva bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;levonunk 30h-át, mert ASCII kódú, és nekünk  ;binárisan kell</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;hozzáadjuk a dx-et az ax-hez</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> asciibin_cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">endp<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro, a buf-ban levõ két drb. karaktert alakítja számmá, és  ;elmenti a kam nevû változóba</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">prem </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> buf,kam</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buf</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> asciibin</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> kam,</font><I><font color="#0000FF">al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">1</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;dta kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> dta</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;flag nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;képernyõ letörlése 80x25-ös módba való lépéssel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  write text1 </font></font></font><I><font color="#808080">;text1 kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;string beolvasása a bill.-rõl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;a buffer-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><font color="#FF0000">1</font><font color="#000000">],</font><font color="#FF0000">8</font><font color="#000000"> </font><I><font color="#808080">;megvan az összes 8 drb karaktert?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go3 </font><I><font color="#808080">;ha nincs, hát bazmeg mégegyszer elölrõl<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><font color="#FF0000">4</font><font color="#000000">],</font><font color="#008000">'-'</font><font color="#000000"> </font><I><font color="#808080">;a megadott dátumnak megadott formája  ;van, két drb  jel van benne, ha ezek nincsenek a helyükön  ;akkor hibás</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go3 </font><I><font color="#808080">;és ugyanúgy mint elõbb, vissza az elejére</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><font color="#FF0000">7</font><font color="#000000">],</font><font color="#008000">'-'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go3<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  prem buffer[</font></font></font><font color="#FF0000">8</font><font color="#000000">],evm </font><I><font color="#808080">;átalakítjuk a megadott stringet  ;dátummá, most az évet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> evm,</font><font color="#FF0000">99</font><font color="#000000"> </font><I><font color="#808080">;nem lehet nagyobb mint 99, ha csak 2  ;számjegyet lehet megadni, most hívom fel a figyelmet, hogy a  ;program csak 2000 utáni fájlokat képes törölni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go3</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> evm,</font><font color="#FF0000">20</font><font color="#000000"> </font><I><font color="#808080">;hozzáadunk 20-at, mert a dta-ban 2008-1980=28  ;lesz, és nem 8, tehát õ 1980-tól számolja, te meg 2000-tõl  ;adtad meg<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  prem buffer[</font></font></font><font color="#FF0000">5</font><font color="#000000">],hom </font><I><font color="#808080">;átalakítjuk a hónapokat is</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> hom,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;hónap nem lehet nulla...</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go3</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> hom,</font><font color="#FF0000">12</font><font color="#000000"> </font><I><font color="#808080">;se nagyobb mint 12</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go3<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  prem buffer[</font></font></font><font color="#FF0000">2</font><font color="#000000">],napm </font><I><font color="#808080">;a napok átalakítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> napm,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;nem lehet nulla</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go3</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> napm,</font><font color="#FF0000">31</font><font color="#000000"> </font><I><font color="#808080">;se nagyobb mint 31</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go3<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  write text2 </font></font></font><I><font color="#808080">;text2 kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;egy karakter beolvasása echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#008000">'y'</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor ugrás tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#008000">'n'</font><font color="#000000"> </font><I><font color="#808080">;ha nem, hát nem, tehát vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go7</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> konec </font><I><font color="#808080">;ha egyik se, újból kar. bekérése<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go7:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go2 </font><I><font color="#808080">;azért nem közvetlenül, mert túl messze van ahova  ;ugorni akarunk, feltételes ugrás már oda nem tud ugorni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><font color="#000000">eh </font><I><font color="#808080">;elsõ fájl keresése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> asciiz </font><I><font color="#808080">;minden fájl az aktuális mappában</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;normal fájlokat keresünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> nebolsubor </font><I><font color="#808080">;nem volt fájl, akkor cf=1<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;ah nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,dta[</font><font color="#FF0000">19h</font><font color="#000000">] </font><I><font color="#808080">;a fájl dátumának bevitele az al-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">shr</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;eltoljuk 1-el, hogy miért? lásd dta felépítése<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,evm </font><I><font color="#808080">;az al-ben már az év van, összehasonlítjuk a  ;mi évünkkel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> vym </font><I><font color="#808080">;ha kisebb, akkor lehet törölni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,evm </font><I><font color="#808080">;ha nagyobb akkor nem</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go5<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ha egyenlõ akkor vagy igen, vagy nem.. megyünk tovább</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">word</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000"> dta[</font><font color="#FF0000">18h</font><font color="#000000">] </font><I><font color="#808080">;most a hónap jön</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">5</font><font color="#000000"> </font><I><font color="#808080">;5-el fogunk shiftelni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">shr</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;shiftelünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">and</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">fh </font><I><font color="#808080">;és itt and-elünk is, mert ki kell lõni az al  ;felsõ négy bitjét, lásd dta felépítése, dátum rész<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,hom </font><I><font color="#808080">;ugyanaz mint elõbb, csak most a hónappal</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> vym</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,hom</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go5<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;ah nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,dta[</font><font color="#FF0000">18h</font><font color="#000000">] </font><I><font color="#808080">;most ez a bájt kell a dta-ból</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">and</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000">fh </font><I><font color="#808080">;felsõ 3 bit kilövése<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,napm </font><I><font color="#808080">;ha kisebb a nap, csak akkor lehet törölni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> vym</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go5<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vym:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">41h</font><font color="#000000"> </font><I><font color="#808080">;itt törlünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> dta[</font><font color="#FF0000">1</font><font color="#000000">eh] </font><I><font color="#808080">;a fájlnév innen kezdõdik</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> chyba </font><I><font color="#808080">;ha nem sikerült hiba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;már volt törölt fájl<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go5:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><font color="#000000">fh </font><I><font color="#808080">;köv. fájl keresése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> asciiz</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;normal fájl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> vymkonec </font><I><font color="#808080">;ha nincs több fájl, akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;máskülönben vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vymkonec:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> flag,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ha vége, akkor megkérdi: volt kitörölt fájl?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> nebolsubor </font><I><font color="#808080">;ha nem, akkor kiírja hogy nem<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  write text5 </font></font></font><I><font color="#808080">;ha igen, akkor hogy igen</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> konec </font><I><font color="#808080">;és vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">nebolsubor:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  write text6 </font></font></font><I><font color="#808080">;nem volt törölve fájl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> konec </font><I><font color="#808080">;és vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">chyba:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  write chyba1 </font></font></font><I><font color="#808080">;ha valami hiba történt, akkor ezt írja ki<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">konec:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  write text4 </font></font></font><I><font color="#808080">;és vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;egy kar.-ra várás echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;a vezérlés visszaadása az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="14"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 14<BR>
</font></I></font></font><BR>
<a href="14.zip">14.zip</a> <a href="14.exe">14.exe</a> <a href="14.asm">14.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely szöveges állományt bõvíti egy a billentyûzetrõl beadott sorral. A fájl nevét kérje be a billentyûzetrõl. Ha nem létezik, akkor jelenítsen meg hibaüzenetet.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">255</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">255</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">)</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">newline </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'File: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Add text: '</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'The operation was successful!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Cant find the path!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Access denied!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'File doesnt exist!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Unknown error!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">file </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ?</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemafor </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk a text1-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,text1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;karakterek beolvasása a buffer-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,buffer</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><I><font color="#0000FF">bh</font></I><font color="#000000"> </font><I><font color="#808080">;bh nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;bl-be beolvasott karakterek száma</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;a végére egy nulla<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><I><font color="#0000FF">dh</font></I><font color="#000000"> </font><I><font color="#808080">;fájl megnyitása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,buffer[</font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;az elsõ két bájtot átugorjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;írni akarunk a fájlba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ha hiba, ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> file,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;elmentjük a FILE HANDLE-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;igen, van megnyitott fájl<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">42h</font><font color="#000000"> </font><I><font color="#808080">;beállítjuk a fájlmutatót</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;a végétõl számítva</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;nulla eltolás</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><I><font color="#0000FF">cx</font></I><font color="#000000"> </font><I><font color="#808080">;nulla eltolás, tehát a végén áll a fájlmutató</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ha hiba történt ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk a text2-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,text2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;kar. beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,buffer </font><I><font color="#808080">;a bufferba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">40h</font><font color="#000000"> </font><I><font color="#808080">;írunk a fájlba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;2 bájtot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,newline </font><I><font color="#808080">;új sort</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ha nem sikerült, ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">40h</font><font color="#000000"> </font><I><font color="#808080">;megint írunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ch</font></I><font color="#000000">,</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;a ch-t nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,buffer[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;a beolvasott kar. számának megfelelõ  bájtot írunk a fájlba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,buffer[</font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;elsõ két bájt átugorva</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ha hiba, ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk a text3-at</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,text3</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;ugrunk a végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;hibák lekezelése, megállapítjuk, mennyi volt az  ax-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba1 </font><I><font color="#808080">;és aszerint ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">5</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba3<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk, hogy ismeretlen hiba...</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,hibauz4</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;itt meg kiírjuk a megfelelõ hibaüzit</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,hibauz1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,hibauz2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,hibauz3</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;itt a vége, fuss el véle</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ha volt megnyitott fájl, be kell zárni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> vege_v </font><I><font color="#808080">;ha nem, hát nem<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000">eh </font><I><font color="#808080">;itt zárjuk be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege_v:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;vezérlés vissza op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="15"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 15<BR>
</font></I></font></font><BR>
<a href="15.zip">15.zip</a> <a href="15.exe">15.exe</a> <a href="15.asm">15.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely megjeleníti a leütött billentyû hexadecimális és decimális kódját.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'A leutott billentyu kodjanak megjelenitese'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'------------------------------------------'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Uss ESC-t a kilepeshez!'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A leutott billentyu kodja:'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'--------------------------'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Decimalis    :'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Hexadecimalis:'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'--------------------------$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">newline </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><font color="#000000"> </font><I><font color="#808080">;újsor</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">spec </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'0+$'</font><font color="#000000"> </font><I><font color="#808080">;ha speciális bill. volt leütve, ezzel jelezzük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">torles </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">10</font><font color="#000000"> dup(</font><font color="#FF0000">32</font><font color="#000000">) </font><I><font color="#808080">;hehe, ez érdekes, kiírunk 10 szóközt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">       </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">10</font><font color="#000000"> dup(</font><font color="#FF0000">8</font><font color="#000000">),</font><font color="#FF0000">36</font><font color="#000000"> </font><I><font color="#808080">;aztán meg visszalépünk 10-et, tehát  letöröltünk 10 karaktert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kar </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;ide mentjük a beolvasott karaktert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemaforspec </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ezzel jelezzük, hogy speciális bill. volt  leütve<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">printstring </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro egy karakter kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">putchar </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro a kurzor áthelyezésére</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gotoxy </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> x,y</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><I><font color="#0000FF">bh</font></I><font color="#000000"> </font><I><font color="#808080">;0-dik lap</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dh</font></I><font color="#000000">,y </font><I><font color="#808080">;dh-ba a sor koordinátája</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,x </font><I><font color="#808080">;dl-be az oszlopé</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h</font><font color="#000000"> </font><I><font color="#808080">;ezt egy BIOS szolgáltatás végzi</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;procedura bináris szám kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> startp1 </font><I><font color="#808080">;átugorujuk a változókat<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemaforbin </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;kezdeti nullákat nem akarjuk kiírni, ezért  kell ez, hogy tudjuk, már volt kiírva szám, már lehet írni a  nullákat<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">startp1: </font></font></font><I><font color="#808080">;itt kezdünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemaforbin,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük, nem nullát kaptunk-e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop11 </font><I><font color="#808080">;ha nem továbbugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">'0'</font><font color="#000000"> </font><I><font color="#808080">;ha igen, kiírunk egy nullát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vegep1 </font><I><font color="#808080">;és ugrunk a végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop11:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10000</font><font color="#000000"> </font><I><font color="#808080">;10000-rel fogunk osztani</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;dx-et nullázni kell, lásd div utasítás<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp11:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;osztjuk az ax-et 10000-rel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;maradék si-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük ax-ben nulla van-e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop12 </font><I><font color="#808080">;ha nem akkor kiírjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemaforbin,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha volt már kiírva szám akkor kiírjuk, ha nem akkor nem írjuk ki</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> gop13<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop12:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk a számjegyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;ASCII kód! ezért kell +30h</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemaforbin,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;itt már biztos volt kiírt szám, ezért a  szemafor 1-esbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop13:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztót osztjuk 10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;mint az elõbb, nullázni kell!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;osztunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ax=1?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> vegep1 </font><I><font color="#808080">;ha kisebb akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;vissza a bx-be az osztót</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;ax-be meg az elõbbi maradékot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cikp11 </font><I><font color="#808080">;vissz az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;a proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;procedúra hexadecimális kiíráshoz</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hexascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> startp2 </font><I><font color="#808080">;átugorjuk a kezdeti változókat<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemaforhex1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;nullák indikálása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">s1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;ennyivel kell majd shiftelni a számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">char </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;ide mentjük a számjegyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">temp </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;elmentjük az elején az ax-et<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">startp2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemaforhex1,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;beálligatjuk a szemafort</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">f000h </font><I><font color="#808080">;bx-ben lesz a maszk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> s1,</font><font color="#FF0000">16</font><font color="#000000"> </font><I><font color="#808080">;16-nyit shiftelünk elõször</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> temp,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;elmentjük az ax-et<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp21:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,temp </font><I><font color="#808080">;visszahozzuk az ax-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> s1,</font><font color="#FF0000">4</font><font color="#000000"> </font><I><font color="#808080">;s1-4, mindig 4-el kevesebbet kell shiftelni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">and</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;na itt a lényeg, az ax mindig csak 4 bitjét  nézzük a többit kilõjük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,s1 </font><I><font color="#808080">;shifteljük az al elejére</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">shr</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;itt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> char,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;és elmentjük a char-ba<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">4</font><font color="#000000"> </font><I><font color="#808080">;a maszkot is shiftelni kell</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">shr</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">cl<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> char,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük 0-át kaptunk-e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop21 </font><I><font color="#808080">;ha nem akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemaforhex1,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha igen, megnézzük: volt már kiírva  szám?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> gop22 </font><I><font color="#808080">;ha nem akkor nem írjuk ki, ugrás végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop21:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> char,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;megnézzük számjegy, vagy betû amit kaptunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> gop23 </font><I><font color="#808080">;ha betû, ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> char,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;ha számjegy, akkor 30h-t kell hozzáadni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar char </font></font></font><I><font color="#808080">;és kiírni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> gop25 </font><I><font color="#808080">;ugrás végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ha betû</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop23:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemaforhex1,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük volt-e már kiírva számjegy</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop24 </font><I><font color="#808080">;ha nem...</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">'0'</font><font color="#000000"> </font><I><font color="#808080">;...akkor kiírunk egy nullát<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop24:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> char,</font><font color="#FF0000">37h</font><font color="#000000"> </font><I><font color="#808080">;a betûhez ennyit kell hozzáadni,</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;65-10=55=37h, 65 az A betû kódja</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar char </font></font></font><I><font color="#808080">;és kiírjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop25:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemaforhex1,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;biztos volt kiírva karakter, szemafor  egyesbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop22:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> s1,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;végén vagyunk már?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> cikp21 </font><I><font color="#808080">;ha s1-be nincs 0, akkor vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">'h'</font><font color="#000000"> </font><I><font color="#808080">;a végére egy h betût</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hexascii </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;képernyõ törlése, 80x25-ös módba való lépéssel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h</font><font color="#000000"> </font><I><font color="#808080">;ezt egy BIOS szolgáltatás végzi<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  printstring text1 </font></font></font><I><font color="#808080">;kiírjuk a text1-et<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;eltüntetjük a kurzort</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ch</font></I><font color="#000000">,</font><font color="#FF0000">20h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;egy karakter beolvasása echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> kar,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;elmentjük a karaktert<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> kar,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük nem spec. bill. volt leütve</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha nem, akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;ha igen, lekéjük a második bájtot is</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> kar,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;és elmentjük a kar-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemaforspec,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;igen, spec. karakter volt, elmentjük, hogy késõbb tudjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  gotoxy </font></font></font><font color="#FF0000">15</font><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;kurzor mozgatása a 8. sor 16. oszlopára</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  printstring torles </font></font></font><I><font color="#808080">;letörölni, ami ott van<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemaforspec,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;volt spec. karakter?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go3 </font><I><font color="#808080">;ha nem, tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  printstring spec </font></font></font><I><font color="#808080">;ha igen, kiírjunk egy jelet, hogy  speciális kar., itt. egy 0+ -t<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;ah nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,kar </font><I><font color="#808080">;al-ba bevisszük a kar-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii </font><I><font color="#808080">;kiírjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  gotoxy </font></font></font><font color="#FF0000">15</font><font color="#000000">,</font><font color="#FF0000">8</font><font color="#000000"> </font><I><font color="#808080">;most ugyanez, csak hexa-ban</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  printstring torles<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemaforspec,</font><font color="#FF0000">1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go4</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  printstring spec</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemaforspec,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;de itt már nullázni kell a spec. szemafort, hogy legközelebb is mûködjön<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go4:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><I><font color="#0000FF">ah</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,kar</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> hexascii </font><I><font color="#808080">;csak itt hexa-ban írjuk ki<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> kar,</font><font color="#FF0000">27</font><font color="#000000"> </font><I><font color="#808080">;addig ismételjük, míg ESC nem volt ütve</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> go2 </font><I><font color="#808080">;itt ez enged ki ebbõl a ciklusból</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  printstring newline </font></font></font><I><font color="#808080">;írunk egy újsort, csak, hogy szép  legyen<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;a kurzort azért láthatóvá tesszük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000">f0eh</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;a vezérlés vissza az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimke a program belépési pontja</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="16"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 16<BR>
</font></I></font></font><BR>
<a href="16.zip">16.zip</a> <a href="16.exe">16.exe</a> <a href="16.asm">16.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely kinyomtat egy állományt. Az állomány nevét kérje be a billentyûzetrõl.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">65</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">65</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;buffer a fájl nevére</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kar </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;egy karaktert olvasunk mindig a fájlból, ide mentjük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Fajl: $'</font><font color="#000000"> </font><I><font color="#808080">;szövegek, amiket kiírunk a képernyõre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Press any key...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A nyomtatas kesz!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nem talalom az utat$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Hozzaferes megtagadva!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A fajl nem letezik!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Szamomra ismeretlen hiba$$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">file </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;FILE HANDLE elmentésére</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemafor </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;szemafor  volt-e megnyitva fájl<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macor string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">pstring </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text1 </font></font></font><I><font color="#808080">;text1 kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;string beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;a buffer-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><I><font color="#0000FF">bh</font></I><font color="#000000"> </font><I><font color="#808080">;bh nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;mennyi karaktert olvastunk be ? bl-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;a végére egy nulla<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><I><font color="#0000FF">dh</font></I><font color="#000000"> </font><I><font color="#808080">;fájl megnyitása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;csak olvasásra</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer[</font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;a buffer 3. bájtjától a fájlnév</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ha hiba, ugorj</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> file,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;FILE HANDLE elmentése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;szem. egyesbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000">fh </font><I><font color="#808080">;olvasunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file </font><I><font color="#808080">;a fájlból</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;egy bájtot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> kar </font><I><font color="#808080">;a kar-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ha nem sikerült, hiba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha ax=0, fájlvége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> veg<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">5</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk a nyomdára, LPT1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,kar </font><I><font color="#808080">;a kar-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;és vissza az elejére, a cmp ax,0 // jz veg enged  ki<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">veg:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">5</font><font color="#000000"> </font><I><font color="#808080">;még kiírunk egy 13,10-et, hogy a buffer-ba levõ  dolgokat kinyomtassa</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">13</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">10</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text3 </font></font></font><I><font color="#808080">;text3 kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;a hibaüzik átugrása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;ax=3?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba1 </font><I><font color="#808080">;ezek alapján kezeljük le a hibát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">5</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba3<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz4 </font></font></font><I><font color="#808080">;ha egyik se, ismeretlen</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz1</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz2</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz3<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text2<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várás egy karakterre echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;volt megnyitott fájl?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> abort<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000">eh </font><I><font color="#808080">;ha igen, lezárjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">abort:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;vezérlés vissza az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="17"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 17<BR>
</font></I></font></font><BR>
<a href="17.zip">17.zip</a> <a href="17.exe">17.exe</a> <a href="17.asm">17.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely átnevez egy állományt. Az állomány régi és új nevét kérje be a billentyûzetrõl.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code,</font><I><font color="#0000FF">es</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">oldname  </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">65</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">65</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;a régi név tárolására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">newname </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">65</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">65</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;az új név tárolására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Regi nev: $'</font><font color="#000000"> </font><I><font color="#808080">;szövegek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Uj nev: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A muvelet sikeresen elvegezve!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A muvelet vegrehajtasa kozben hiba keletkezett!$'<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiir </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro szöveg beolvasására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">beolvas </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> mibe</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> mibe </font><I><font color="#808080">;hova mentjük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;a megadott string végére egy 0-t tesz</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegenulla </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> minek</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">push</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;elmentjük a bx-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><I><font color="#0000FF">bh</font></I><font color="#000000"> </font><I><font color="#808080">;a bh-t nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,minek[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;a második bájtja a string hossza</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> minek[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;itt tesszük a végére a nullát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">pop</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;visszatesszük a bx-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;szegmenscímek beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">es</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;extraszegmens</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text1 </font></font></font><I><font color="#808080">;text1 kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  beolvas oldname </font></font></font><I><font color="#808080">;régi fájlnév beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  vegenulla oldname </font></font></font><I><font color="#808080">;a végére egy nulla, lásd ASCIIZ<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text2 </font></font></font><I><font color="#808080">;ugyanez csak az új névvel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  beolvas newname</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  vegenulla newname<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">56h</font><font color="#000000"> </font><I><font color="#808080">;evvel a szolg. nevezem át</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> oldname[</font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;csak a 3. bájttól van a fájlnév</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> newname[</font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;ugyanúgy</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ha hiba akkor azt írjuk ki hogy hiba<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text3 </font></font></font><I><font color="#808080">;ha nem, akkor azt, hogy sikeres</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir hibauz1<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;a vezérlés visszaadása az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimke a program belépési pontja</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="18"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 18<BR>
</font></I></font></font><BR>
<a href="18.zip">18.zip</a> <a href="18.exe">18.exe</a> <a href="18.asm">18.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely megjeleníti a billentyûzetrõl megadott számú kiszolgáló alprogram logikai címét hexadecimálisan és dekadikusan.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Alprogram logikai cime'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'**********************$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Add meg az alprogram szamat (0-255): $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A megadott alprogram logikai cime:'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'**********************************'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Decimalis    : $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Hexadecimalis: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text5 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'**********************************'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nyomj le barmilyen billentyut a kilepeshez...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Az alprogram szama 0-255!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">4</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">4</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;buffer a szám beolvasására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szam </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;ide mentjük a beolvasott számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szegmens </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;ide a kiolvasott szegmenscímet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">offsetcim </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;ide a kiolvasott offsetcímet<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macor egy string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiir </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro egy karakter kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">putchar </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;procedúra egy bináris szám kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10000</font><font color="#000000"> </font><I><font color="#808080">;10000-rel fogunk osztani</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztás elõtt dx-et nullázni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp11:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;osztjuk az ax-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;a maradékot az si-be<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk az al-ben megkapott számjegyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;ASCII karakter!, ezért kell a +30h</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztót 10-zel osztjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-zel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;mint fent</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;osztjuk akkor végre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;megnézzük ax=1?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> vegep1 </font><I><font color="#808080">;ha kisebb mint 1, akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;az osztót a bx-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;vissza a maradékot az ax-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cikp11 </font><I><font color="#808080">;vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">endp<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;procedúra hexadecimális kiírásra</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hexascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> startp2 </font><I><font color="#808080">;átugorjuk a változókat<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">s1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;ennyivel fogjuk shiftelni az ax-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">char </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;ide tesszük a kapott karaktert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">temp </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;tároljuk az ax-et<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">startp2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">f000h </font><I><font color="#808080">;a bx-ben lesz a maszk, amivel mindig  kiütjuk az ax bizonyos bitjeit,mindig csak 4 fog maradni, ez  jelentve egy számjegyeet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> s1,</font><font color="#FF0000">16</font><font color="#000000"> </font><I><font color="#808080">;elõször ennyivel shifteljük az ax-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> temp,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;elmentjük az ax-et<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp21:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,temp </font><I><font color="#808080">;minden ciklus elején visszatesszük az ax  eredeti tartalmát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> s1,</font><font color="#FF0000">4</font><font color="#000000"> </font><I><font color="#808080">;az s1-bõl levonunk 4-et, mert minden egyes futás  után 4-el kevesebbszer kell shiftelni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">and</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;na itt ütjük ki az ax bizonyos bitjeit</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,s1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">shr</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;és shifteljük s1-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> char,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;így a 4 bit átkerül az al aljára, el tudjuk  már menteni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">4</font><font color="#000000"> </font><I><font color="#808080">;a bx-et is arrébb kell tenni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">shr</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">cl<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> char,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;megnézzük, hogy a karakter, amit kaptunk  nagyobb mint 9?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> gop21 </font><I><font color="#808080">;ha igen akkor valami A,B,C,... kell kiírni, tehát elugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> char,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;ha ide eljutunk, akkor számjegyet írunk ki</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar char </font></font></font><I><font color="#808080">;kiírjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> gop22 </font><I><font color="#808080">;megyünk a gop22-re<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop21:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> char,</font><font color="#FF0000">37h</font><font color="#000000"> </font><I><font color="#808080">;itt írjuk betûket</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar char </font></font></font><I><font color="#808080">;na akkor írjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop22:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> s1,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;s1 már nulla?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> cikp21 </font><I><font color="#808080">;ha nem akkor még ismétlünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">'h'</font><font color="#000000"> </font><I><font color="#808080">;a végén kiteszünk egy h-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hexascii </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;a proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. ascii-bináris átalakításra</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;a beolvasott karakter átalakítására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">; bemenet si - mutato buffer+1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">                   </font></font></font><I><font color="#808080">; kimenet ax - bin ertek<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;a beolvasott karakterek számát  elmentjük a cl-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ax-et nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha nem volt beolvasott karakter, nullát adunk  vissza</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> gop31 </font><I><font color="#808080">;ha volt akkor, tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop31:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el fogunk szorozni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp31:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;dx nullazva, szorozzuk az ax-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si növelése 1-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;dl-be az aktuális karakter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;levonunk belõle 30h-t, ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;hozzáadjuk az ax-hez</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl dekrementálása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> cikp31 </font><I><font color="#808080">;addig míg cl nulla nem lesz<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;képernyõ letörlése, 80x25-ös módba való lépéssel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text1 </font></font></font><I><font color="#808080">;kiírjuk a kezdeti dolgokat<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text2 </font></font></font><I><font color="#808080">;kiírjuk, hogy add meg a számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;karakterek beolvasása a bill.-rõl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;a buffer-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;a bx törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;megnézzük itt, hogy mindegyik  beolvasott karakter szám volt-e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha nem, ugrunk a go1-re, ahol kiírjuk, hogy hiba, és megadja újból</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">39h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer[</font><font color="#FF0000">1</font><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik2<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer+</font><font color="#FF0000">1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> asciibin </font><I><font color="#808080">;átalakítjuk a buffer-ban lévõ karaktereket  számmá<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">00</font><font color="#000000">ffh </font><I><font color="#808080">;megnézzük nem adott-e túl nagy számot,</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;255-nél nagyobbat</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha igen, hiba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><font color="#FF0000">1</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha nem adott meg számot, hiba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go2<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir hibauz1 </font></font></font><I><font color="#808080">;itt írjuk ki a hibaüzit</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;és visszaküldjük az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szam,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;a számot elmenjtük az ax-be<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0000h</font><font color="#000000"> </font><I><font color="#808080">;ax-be nulla</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">es</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ezt az es-be<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;a szam-ot megszorozzuk kettõvel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">shl</font></B><font color="#000000"> szam,</font><I><font color="#0000FF">cl<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,szam </font><I><font color="#808080">;si-be a szam<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">word</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000"> </font><I><font color="#0000FF">es</font></I><font color="#000000">:[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;na itt hozzuk be az ax-be az  offsetcímet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> offsetcim,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;és elmentjük az offsetcim nevû változóba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">word</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000"> </font><I><font color="#0000FF">es</font></I><font color="#000000">:[</font><I><font color="#0000FF">si</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;ez ugyanaz csak a  szegmenscímmel, lásd a megszakításvektor-táblázat</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szegmens,</font><I><font color="#0000FF">ax<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;most már csak kiírjuk</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text3 </font></font></font><I><font color="#808080">;kiírjuk, hogy decimális</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,szegmens </font><I><font color="#808080">;átvisszük ax-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii </font><I><font color="#808080">;kiírjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">':'</font><font color="#000000"> </font><I><font color="#808080">;kiírunk egy kettõspontot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,offsetcim </font><I><font color="#808080">;kiírjuk az offsetet is</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text4 </font></font></font><I><font color="#808080">;ugyanaz pepitába  hexába</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,szegmens</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> hexascii</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">':'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,offsetcim</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> hexascii<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text5 </font></font></font><I><font color="#808080">;kiírjuk, hogy nyomj bármilyen bill.-t<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várunk egy bill.-re</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;vezérlés vissza az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="19"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 19<BR>
</font></I></font></font><BR>
<a href="19.zip">19.zip</a> <a href="19.exe">19.exe</a> <a href="19.asm">19.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely az aktuális mappában létrehoz egy mappát a bill. megadott névvel, és az aktuális könyvtárrá teszi.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;szegmens nyitása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés a kód ill. adatszeg.hez<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók létrehozása</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Almappa neve (max 8 karakter): $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Hiba: az ut nem talalhato!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Hiba: az eleres nincs engedelyezve!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Hiba: nem adtal meg eleresi utat!'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Hiba: ismeretlen!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">9</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">)<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;beállítjuk az adatszegmens-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;0-ba állítjuk a DF-et, a szövegkiíráshoz<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">09h</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk a text1-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;billentyûzetbuffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;mappanév beolvasása a bufferba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><font color="#FF0000">1</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük, hogy van-e beolvasott karakter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> tovabb </font><I><font color="#808080">;ha van továbbmegyünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;ha nincs hibaüzi</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> hibauz3</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;és vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">tovabb:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dh</font></I><font color="#000000">,</font><I><font color="#0000FF">dh</font></I><font color="#000000"> </font><I><font color="#808080">; dh törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,buffer[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;beolvasott karakterek számának bevitele a dl-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;ezt átvisszük a di-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">di</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;a végére teszünk egy 0-át<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">39h</font><font color="#000000"> </font><I><font color="#808080">;létrehozom az alkönyvtárat</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;ez azért kell, hogy a buffer elsõ két bájtját átugorjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ha hiba történt ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><I><font color="#0000FF">bh</font></I><font color="#000000"> </font><I><font color="#808080">;aktuálissá tesszük a létrehozott alkönyvtárat</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;ugyanaz mint elõbb</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ugrunk, ha hiba történt<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;átugorjuk a hibaüziket<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;megnézzük, melyik hiba történt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">5</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba2<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">09h</font><font color="#000000"> </font><I><font color="#808080">;nem tudjuk pontosan, kiírjuk, hogy ismeretlen</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> hibauz4</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;ugrunk a végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">09h</font><font color="#000000"> </font><I><font color="#808080">;hibaüzi kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> hibauz1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">09h</font><font color="#000000"> </font><I><font color="#808080">;hibaüzi kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> hibauz2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;befejezzük a programot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;lezárjuk a code nevû szegmenst</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="20"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 20<BR>
</font></I></font></font><BR>
<a href="20.zip">20.zip</a> <a href="20.exe">20.exe</a> <a href="20.asm">20.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely az aktuális könyvtárban létrehoz egy állományt a könyvtárban levõ állományok nevével.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">dta </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">128</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">)</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciiz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'FILELIST.TXT'</font><font color="#000000">,</font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciiz2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'*.*'</font><font color="#000000">,</font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">newline </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'A lista sikeresen letrehozva a FILELIST.TXT allomanyba!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Nem talalom az utat!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Nincs engedelyezve a hozzaferes!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Nem talalhato fajl!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Ismeretlen hiba!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz5 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Nem tudom letrehozni a fajlt! (Lehet, hogy mar letezik?)$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">file </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ?</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemaforfile </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemaforelso </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">1</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;dta beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> dta</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><font color="#000000">eh </font><I><font color="#808080">;fájl keresése az adott mappában</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> asciiz2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;normal fájlokat keresünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ha hiba keletkezett, ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><I><font color="#0000FF">dh</font></I><font color="#000000"> </font><I><font color="#808080">;megpróbáljuk megnyitni a FILELIST.TXT fájlt</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ha megnyitja, akkor létezik, ha nem akkor létrehozzuk</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;csak olvasásra nyitjuk meg</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> asciiz1 </font><I><font color="#808080">;a fájlnév címét a dx-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha nem létezik akkor továbbmegyünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;ha igen, hibaüzenet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> hibauz5</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> abort </font><I><font color="#808080">;és kilépünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;létrehozzuk a fájlt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><I><font color="#0000FF">cx</font></I><font color="#000000"> </font><I><font color="#808080">;normal fájl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> asciiz1 </font><I><font color="#808080">;átadjuk a nevét</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ha nem sikerült létrehozni, ugrunk a hibára</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> file,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;elmentjük a FILE HANDLE-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemaforfile,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;beállítjuk a szemaforfile-t 1-re, hogy</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;a végén tudjuk, hogy volt megnyitott fájl<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemaforelso,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;elõször nem kell új sor</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> go2 </font><I><font color="#808080">;tehát átugorjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">40h</font><font color="#000000"> </font><I><font color="#808080">;itt írjuk az új sort a fájlba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file </font><I><font color="#808080">;bxbe tesszük, hogy melyik fájlba akarunk írni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;két bájtot írunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> newline </font><I><font color="#808080">;ezt írjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ha hiba ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemaforelso,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;többször már nem kell átugorni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000">eh </font><I><font color="#808080">;innen nézzük végig a dta-t<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> dta[</font><I><font color="#0000FF">di</font></I><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;meg kell számolni mennyi bájtot kell kiírni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">lea</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,[</font><I><font color="#0000FF">di</font></I><font color="#000000">+</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;ezt nem vettük, de így szinte tökéletes:D</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> cik2<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><I><font color="#0000FF">di</font></I><font color="#000000"> </font><I><font color="#808080">;cx-be kell a kiírni kívánt bájtok száma</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000">fh </font><I><font color="#808080">;de a di-be pont 1fh-val több van<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">40h</font><font color="#000000"> </font><I><font color="#808080">;beírjuk a fájlba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file </font><I><font color="#808080">;melyikbe?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> dta[</font><font color="#FF0000">1</font><font color="#000000">eh] </font><I><font color="#808080">;mit?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><font color="#000000">fh </font><I><font color="#808080">;keressük tovább a további fájlokat</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnc</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;ha van akkor kiírjuk, ha nincs akkor kész<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;kiírunk egy üzit, hogy kész</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;és ugrunk a végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;hibák kezelése</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;megnézzük mi volt az ax-be, aszerint ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">5</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">12h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba3<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> hibauz4</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;ezekkel kiírjuk a hibaüziket</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> hibauz1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> hibauz2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> hibauz3</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;itt a vége, fuss el véle... :D</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemaforfile,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ha volt megnyitva fájl akkor a  szemafor 1-es, és be kell zárni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> abort </font><I><font color="#808080">;ha nem akkor vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000">eh</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">abort:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;korrektül bezárjuk a programot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkén kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="21"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 21<BR>
</font></I></font></font><BR>
<a href="21.zip">21.zip</a> <a href="21.exe">21.exe</a> <a href="21.asm">21.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely a billentyûzetrõl karaktereket olvas be, és megjeleníti õket a képernyõn. A program az end szó beírásával ér véget, de ez a szó már nem jelenik meg a képernyõn.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">long </font></font></font><B><font color="#000080">EQU</font></B><font color="#000000"> </font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;long szó jelentse azt, hogy 3, a fordító minden  long szó helyére 3-at fog írni, az kilépõ szó hosszát jelöli<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">escape </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'end'</font><font color="#000000"> </font><I><font color="#808080">;erre a karakterláncra fogunk kilépni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Karakterek elolvasasa a bill.-rol az end szo beirasaig.'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><font color="#000000"> </font><I><font color="#808080">;36 = $</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kar </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ?</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">torleskar </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">8</font><font color="#000000">,</font><font color="#FF0000">32</font><font color="#000000">,</font><font color="#FF0000">8</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">newline </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;egy macro a képernyõn lévõ karakterek törlésére</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;a hanyszor jelöli, hogy hány karaktert fog letörölni</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ez az egyetlen paramétere</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">torles </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> hanyszor</font><BR>
<font face="Courier New"><font SIZE="2"><B><font color="#000080">local</font></B></font></font><font color="#000000"> cikm1 </font><I><font color="#808080">;lokális cimke<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">push</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000"> </font><I><font color="#808080">;elmentjük a cx-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,hanyszor </font><I><font color="#808080">;a cx lesz a ciklusváltozónk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikm1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk a torleskar-t, ezzel törlünk egy  karaktert, lásd torleskar felépítése, 8-as ASCII karakter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> torleskar</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">loop</font></B><font color="#000000"> cikm1 </font><I><font color="#808080">;addig ismételjük, ameddig a cx nulla nem lesz</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;azaz annyiszor amennyit a hanyszor-ban megadtunk<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">pop</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000"> </font><I><font color="#808080">;visszatesszük a cx tartalmát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;vége a macro-nak<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;beállítjuk az adatszegmenst</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">b800h </font><I><font color="#808080">;az es-t beállítjuk a videomemória  kezdõcímére</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">es</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df=0<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;letöröljük a képernyõt, 80x25-ös módba lépéssel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h</font><font color="#000000"> </font><I><font color="#808080">;BIOS szolgáltatás<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk a text1-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;a cik1 ciklust fogjuk ismételgetni</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;egy karakter beolvasása echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> kar,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;elmentjük a beolvasott karaktert a kar  változóba<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;itt megnézzük mi volt az elolvasott karakter</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> kar,</font><font color="#FF0000">13</font><font color="#000000"> </font><I><font color="#808080">;ha 13 volt akkor az ENTER volt leütve</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go1 </font><I><font color="#808080">;tehát egy új sor kell, hát ugrunk oda, ahol ezt  tesszük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> kar,</font><font color="#FF0000">8</font><font color="#000000"> </font><I><font color="#808080">;ha 8-as, akkor a BACKSPACE volt leütve</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ekkor törlünk egy karaktert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> kar,</font><font color="#FF0000">32</font><font color="#000000"> </font><I><font color="#808080">;ez 32-127 közötti karakterek azok, amiket  kiírunk, a többi vezérlõkarakter, ezekkel nem foglalkozunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> kar,</font><font color="#FF0000">127</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jae</font></B><font color="#000000"> cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;ha ide eljutunk, akkor kiírjuk a kar-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,kar</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;lekérjük az aktuális kurzorpozíciót</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;nulladik lapon vagyunk, ez nem olyan fontos</font></I><BR>
<font face="Courier New"><font SIZE="2"><B><font color="#0000FF">int</font></B></font></font><font color="#000000"> </font><font color="#FF0000">10h</font><font color="#000000"> </font><I><font color="#808080">;egy BIOS szolgáltatással kérjük le<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;na a helyzet az, hogy mi közvetlenül a videomemóriát fogjuk  vizsgálni, nincs e a képernyõn az end szó</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ehhez viszont az aktuális lekért kurzorpozíciókat át kell  kicsit alakítani<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">shl</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;az oszlopokat meg kell szorozni kettõvel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">dh</font></I><font color="#000000"> </font><I><font color="#808080">;a sorokat meg 160-al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,</font><font color="#FF0000">160</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000"> </font><I><font color="#808080">;itt csináljuk ezt<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;az si-vel címezzük a videomemóriát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">dl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><I><font color="#0000FF">ah</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">ax<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;itt már az si az aktuális pozícióra mutat a videomem-ben</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;azt a bájtot címzi, ahol épp villog a kurzor<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,long </font><I><font color="#808080">;egy ciklus, összehasonlítjuk az utolsó 3  karaktert az end szóval</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;a videomem-ben kettõvel kell lépkednünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000"> </font><I><font color="#808080">;a end szóban eggyel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000"> </font><I><font color="#0000FF">es</font></I><font color="#000000">:[</font><I><font color="#0000FF">si</font></I><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,escape[</font><I><font color="#0000FF">di</font></I><font color="#000000">] </font><I><font color="#808080">;itt hasonlítunk egy karaktert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;ha nem egyezik vissza az elejére</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha már di 0 akkor végignéztük az egészet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> cik2<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;ha ide eljutunk vége a proginak, end volt beírva<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> kar,</font><font color="#FF0000">13</font><font color="#000000"> </font><I><font color="#808080">;ide ugrunk ha ENTER vagy BACKSPACE volt leütve</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go2 </font><I><font color="#808080">;ha ENTER akkor ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  torles </font></font></font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ha BAKCSPACE akkor törlünk egy karaktert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;ugrunk vissza a cik1-re, hisz nincs még vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;ENTER, tehát új sor</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> newline</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;ugrunk vissza a cik1-re, hisz nincs még vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  torles long </font></font></font><I><font color="#808080">;letörlünk az end szó hosszúságának megfelelõ  karaktert<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;visszaadjuk a vezérlést az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="22"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 22<BR>
</font></I></font></font><BR>
<a href="22.zip">22.zip</a> <a href="22.exe">22.exe</a> <a href="22.asm">22.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely szöveges állományt másol a képernyõre (a nevét a bill. adjuk meg) úgy, hogy minden Laci szót lecserél Péter-re. Az egyes szavak egymástól SP, HT, CR és LF karakterekkel vannak elválasztva.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">long </font></font></font><B><font color="#000080">EQU</font></B><font color="#000000"> </font><font color="#FF0000">4</font><font color="#000000"> </font><I><font color="#808080">;long nevû konstans, értéke 4, EQU direktíva<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">65</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">65</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;egy buffer, elõször a fájl nevét (elérési útját), majd pedig a fájlból való olvasás</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">mit </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Laci'</font><font color="#000000"> </font><I><font color="#808080">;mit akarunk lecserélni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">mire </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Peter$'</font><font color="#000000"> </font><I><font color="#808080">;mire akarjuk lecserélni</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;szövegek, amiket ki akarunk írni</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'File: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Press any key...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Cant find the path$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Access denied!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'The file doesnt exist!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Unknown error$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">file </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;a FILE HANDLE szám tárolására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemafor </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;volt-e megnyitva fájl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">fajlvege </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;a fájl végén vagyunk már, nincs több olvasnivaló karakter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szo </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ez aminek most a végén egy vezerlõ karaktert (sorvége, tabulátor, space) találtunk egy szó vagy még az elõzõ szó része? Ezt jelzi...<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro egy karakter kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">putchar </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;kettes DOS szolgáltatással írjuk ki</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,char </font><I><font color="#808080">;a dl-ben lévõ karaktert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">pstring </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;kilences DOS szolgáltatás</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ez egy procedúra, fontos, mindig si+1 darab karakert ír ki a buffer-bõl</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buf </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><I><font color="#0000FF">di</font></I><font color="#000000"> </font><I><font color="#808080">;di az index</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buf_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar buffer[</font></font></font><I><font color="#0000FF">di</font></I><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;addig míg ki nem írunk si+1 darabot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> buf_cik1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buf </font></font></font><B><font color="#000080">endp<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text1 </font></font></font><I><font color="#808080">;text1 kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;string beolvasása a bill.-rõl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;a buffer-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><I><font color="#0000FF">bh</font></I><font color="#000000"> </font><I><font color="#808080">;a bh nullázása, mer mi az egész bx-et használjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;és csak a bl-be teszünk értéket</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;a buffer végére teszünk egy nullát, azért mert ami megnyitja a fájlt, annak ASCIIZ kell<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><I><font color="#0000FF">dh</font></I><font color="#000000"> </font><I><font color="#808080">;megnyitjuk a fájlt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;csak olvasásra</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer[</font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;a buf. 3. bájtjától van a fájlnév</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnc</font></B><font color="#000000"> go3 </font><I><font color="#808080">;ha nem történt hiba továbbugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> hiba<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> file,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;a FILE HANDLE elmentése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;a szemafor 1esbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;a képernyõ törlése 80x25 módba lépéssel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si kezdeti nullázása, a buffer indexet tartalmazza mindig</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000">fh </font><I><font color="#808080">;olvasás fájlból</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file </font><I><font color="#808080">;a megnyitott fájlból, FILE HANDLE</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;egy bájtot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;a buffer-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;pontosabban az si-edik bájtjába</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnc</font></B><font color="#000000"> go8 </font><I><font color="#808080">;ha nem történt hiba ugrunk tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> hiba</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go8:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha ax=0 akkor fájlvége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha nem akkor jo, tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> fajlvege,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor szem. egyesbe, és így ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go9<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">13</font><font color="#000000"> </font><I><font color="#808080">;ha itt vagyunk akkor beolvastunk már egy karaktert a fájlból a buffer[si]-be, és nem vagyunk a fájl végén, megnézzük a beolvasott karakter vezérlõ karakter-e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> go9 </font><I><font color="#808080">;ha igen, akkor kiértékeljük, mert akkor itt egy szó vége van</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;13,10 - sorvége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> go9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;tabulátor</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> go9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">32</font><font color="#000000"> </font><I><font color="#808080">;space</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> go9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go10<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go9:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szo,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ha a fentiek egyike teljesült ide jutunk, na most ha a szo egyesbe volt állítva akkor oké, mert akkor ami a buffer elsõ négy bájtjába van az egy szó, ha nem egyes akkor a szó vége itt is van, csak ez a négy betû még az elõzõ szóhoz tartozik, nem különálló szó</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szo,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;mindenképp már vége a szónak új szó miatt egyesbe állítom</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go12 </font><I><font color="#808080">;az elõbb a cmp-vel beállítottam a jelzõbiteket, most ugrok</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,long </font><I><font color="#808080">;ha elõbb nem ugortam el, itt még mindig megnézem hogy meg van-e megfelelõ mennyiségû karakterem, ha igen csak akkor ugrok el megnézni hogy Laci szó van benne</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go12:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> buf </font><I><font color="#808080">;ha itt vagyok akkor a buf megtelt ki kell írni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> fajlvege,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ha fájlvége van akkor ugorni a végére</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go11</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go11:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;az index nulla</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;és vissza az elejére, újra olvasn a buffer-ba<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go10:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,long </font><I><font color="#808080">;ha itt vagyok, megtelt már a buffer?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> go5 </font><I><font color="#808080">;ha nem</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> buf </font><I><font color="#808080">;buffer kiírása mert megtelt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si nulla</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szo,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;szo nulla mert ami most fog jönni még ehhez tartozik</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go5:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;akkor si növelése eggyel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><I><font color="#0000FF">di</font></I><font color="#000000"> </font><I><font color="#808080">;di nulla</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,mit[</font><I><font color="#0000FF">di</font></I><font color="#000000">] </font><I><font color="#808080">;átnézem az egész buf. Hogy minden betûje egyezik-e a mit betûivel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,buffer[</font><I><font color="#0000FF">di</font></I><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go4 </font><I><font color="#808080">;ha nem, akkor ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,long</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik2<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ha minden stimmelt, akkor kiírjuk hogy pavel</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring mire</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,long </font><I><font color="#808080">;megnézzük ki kell-e írni a buffer utolsó karakterjét</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> go6</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar buffer[long] </font></font></font><I><font color="#808080">;ha igen kiírjuk, fájlvégénél van ennek jelentõsége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go6<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go4:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> buf </font><I><font color="#808080">;amúgy ha nem Laci volt kiírjuk a buffert<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go6:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> fajlvege,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ha fájlvége akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go7</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;ha nem si nulla és elölrõl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go7:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;hiba lekezelése</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;ax=3?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">5</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba3<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ha egyik se hiba ismeretlen</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz4</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz1</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz2</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz3<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text2<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várás egy bill-re echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;volt megnyitot fájl?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> abort<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000">eh </font><I><font color="#808080">;ha igen bezárjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">abort:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;a vezérlés visszaadása a DOSnak</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;olvasunk a fájlból addig amíg vezérlõ karakterre nem bukkanunk, ha ez megtörténk akkor eldöntjük hogy ez az elõzõ szó része meg, vagy új szó (szo=1?). Ha külön szó akkor long karakterbõl áll? Ha igen akkor megnézzük hogy Laci van-e benne, ha igen kiirjuk hogy pavel, minden más esetben a buffert irjuk ki. Ha betelik akkor kiírjuk, és si nulla, újra elölrõl írunk bele...</font></I></font></font></font></I></font></font></Body></font>

<hr noshade><br>
<a name="23"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 23<BR>
</font></I></font></font><BR>
<a href="23.zip">23.zip</a> <a href="23.exe">23.exe</a> <a href="23.asm">23.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely a képernyõre másolja a szöveges állományt, melynek nevét a bil. adjuk meg, úgy, hogy minden Laci szavat áláhúz. Az egyes szavak SP, HT, CR és LF karakterekkel vannak elválasztva.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelem a code nevû szegmenshez a kódszegmenst, és az adatszegmenst<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">long </font></font></font><B><font color="#000080">EQU</font></B><font color="#000000"> </font><font color="#FF0000">4</font><font color="#000000"> </font><I><font color="#808080">;long konstans, értéke 4<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">65</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">65</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;buffer a fájlnév, majd a beolvasott karakterek tárolására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">mit </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Laci'</font><font color="#000000"> </font><I><font color="#808080">;mit akarunk aláhúzni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">alahuzas </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'ßßßß'</font><font color="#000000"> </font><I><font color="#808080">;mivel legyen aláhúzva</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;szövegek</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'File: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Press any key...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Cant find the path$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Access denied!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'The file doesnt exist!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Unknown error$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">file </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;FILE HANDLE eltárolására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemafor </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;volt megnyitott fájl?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">fajlvege </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;fájl végén vagyunk már?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szo </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;új szavunk van, vagy az elõzõ ért véget?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">x </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;pozíciók elmentésére</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">y </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ?</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">x1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;ugyanúgy, késõbb kiderül mire is kell</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">y1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ?<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;a kurzor áthelyezése</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gotoxy </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> x0,y0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">02h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;nulladik lap</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,x0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dh</font></I><font color="#000000">,y0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;a kurzorpozíció lekérdezése</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">getxy </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> x0,y0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">03h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;nulladik lap, hisz több nincs :D</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> x0,</font><I><font color="#0000FF">dl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> y0,</font><I><font color="#0000FF">dh</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;egy karakter kiírása</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">putchar </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;string kiírása</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">pstring </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. fontos, kiírja a megadott stringet, si+1 darabot, de úgy hogy ha a monitoron a sor végén vagyunk és tovább kell írni, egy üres sort üt pluszba, így a szöveg minden második sorba lesz, és a kimaradt sorokba mehet az aláhúzás</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buf </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bx - mit irjunk ki, si - mennyit</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> buf_start</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">x2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ?</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">y2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ?</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">tab </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'   '</font><font color="#000000"> </font><I><font color="#808080">;ha tabulátor (9) kell írni, akkor õ helyette 3 spacet ír, hogy miért? Hehehehe :D mert ez így egyszerûbb... az érdekesség az hogy a proc. saját magát hívja meg ennek a kiírására<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buf_start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><I><font color="#0000FF">di</font></I><font color="#000000"> </font><I><font color="#808080">;di az indexeléshez</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buf_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000"> [</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><I><font color="#0000FF">di</font></I><font color="#000000">],</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;megnézzük nem tabulátort kell véletlenül kiírni, ha nem akkor elugrunk innen</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> buf_go3</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><I><font color="#0000FF">di</font></I><font color="#000000">],</font><font color="#FF0000">32</font><font color="#000000"> </font><I><font color="#808080">;a tab helyett teszünk szóközt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">push</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000"> </font><I><font color="#808080">;elmentünk mindent</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;3 drb kar. kell kiírni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> tab </font><I><font color="#808080">;a tab-ot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> buf </font><I><font color="#808080">;és itt hívjuk megint a buf-ot, hogy írjon ki nekünk 3 szóközt a tab helyett</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">pop</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;amikor végzett, vissza mindent és tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buf_go3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar [</font></font></font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><I><font color="#0000FF">di</font></I><font color="#000000">] </font><I><font color="#808080">;kiírjuk a karaktert<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  getxy x2,y2 </font></font></font><I><font color="#808080">;lekérjük a kurzorpozíciót</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> x2,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük nem sor elején vagyunk-e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> buf_go2 </font><I><font color="#808080">;ha nem akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000"> [</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><I><font color="#0000FF">di</font></I><font color="#000000">],</font><font color="#FF0000">13</font><font color="#000000"> </font><I><font color="#808080">;ha igen akkor és nem sor végét írtunk ki akkor egy sorral lejjebb megyünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> buf_go2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> y2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  gotoxy x2,y2 </font></font></font><I><font color="#808080">;itt ugrunk lejjebb<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buf_go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000"> </font><I><font color="#808080">;köv. betûre léptetjük az indexet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;megnézzük nem írtuk ki még az összeset</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> buf_cik1 </font><I><font color="#808080">;ha nem akkor még írjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buf </font></font></font><B><font color="#000080">endp</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text1 </font></font></font><I><font color="#808080">;text1 kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;string beolvasása a bill.-rõl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><I><font color="#0000FF">bh</font></I><font color="#000000"> </font><I><font color="#808080">;bh nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;bl-be a beolvasott kar. száma</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;a string végére egy nulla karaktert<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><I><font color="#0000FF">dh</font></I><font color="#000000"> </font><I><font color="#808080">;fájl megnyitása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;csak olvasásra</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer[</font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;a 3. bájttól kezdõdik a fájlnév</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnc</font></B><font color="#000000"> go3 </font><I><font color="#808080">;ha nem történt hiba akkor ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> hiba<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> file,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;FILE HANDLE elmentése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;szem. egyesbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;képernyõ törlése 80x25 módba lépéssel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si kezdeti nullázása, si az index</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000">fh </font><I><font color="#808080">;olvasás fájlból</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file </font><I><font color="#808080">;az elõbb megnyitott fájlból akarunk olvasni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;egy bájtot fogunk olvasni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;a buffer-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si-edik helyre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnc</font></B><font color="#000000"> go8 </font><I><font color="#808080">;ha nincs hiba akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> hiba</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go8:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;fájlvége?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha nem tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> fajlvege,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor flag egyesbe és vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go9<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;itt most megnézzük a beolvasott kar. vezérlõ kar.-e, 13,10 sorvége, 9 tabulátor, 32 space<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">13</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> go9 </font><I><font color="#808080">;ha valamelyik stimmel elugrunk innen</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">10</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> go9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> go9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">32</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> go9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go10 </font><I><font color="#808080">;ha egyik se stimmelt, akkor ugrunk a go10-re<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go9:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szo,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ha egy új szavunk van akkor ugrunk, ha nem akkor mindenképp a szo flaget egyesbe kell állítani mert már biztos új szó lesz legközelebb</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szo,</font><font color="#FF0000">1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go12 </font><I><font color="#808080">;és el kell ugorni ha a szo egyes volt megnézni nem Laci van-e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,long </font><I><font color="#808080">;jaj, de csak akkor ugrunk el, ha van kellõ mennyiségû karakter, ha nincs minek ugorjunk el?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go12:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;ha itt vagyunk akkor a long+1 kar. beolvasása után jött vezérlõ karakter, tehát még mindig egy szót olvasunk be, de a szo flag nullába volt, ezért nem mentünk megnézni mi van benne.. szal kiírjuk azt si nullázása és újra olvasás</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> buf </font><I><font color="#808080">;kiírjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> fajlvege,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ha ez a flag egyes akkor vége van...</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go11</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;ugrunk a végére</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go11:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go10:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,long </font><I><font color="#808080">;itt megnézzük buffer-ba elég kar. van-e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> go5 </font><I><font color="#808080">;ha még kevés olvasunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;ha betelt kiírju</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> buf</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si nulla és szo nulla, mert még nem ért véget a szó</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szo,</font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;és újra olvasás</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go5:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;ha itt vagyunk a buffer még nincs tele, nincs benne elég kar, ezért inc si--index, és olvasunk még bele</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><I><font color="#0000FF">di</font></I><font color="#000000"> </font><I><font color="#808080">;di nulla<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;összehasonlítjuk a mit-et és a buffer-t ha minden stimmel akkor van Laci</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,mit[</font><I><font color="#0000FF">di</font></I><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,buffer[</font><I><font color="#0000FF">di</font></I><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go4 </font><I><font color="#808080">;ha már egy nem stimmel akkor nem Laci van</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,long</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik2<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ha ide eljutunk Laci van</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  getxy x,y </font></font></font><I><font color="#808080">;elmentjük az aktuális kurzor pozíciót</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;kiírjuk a Laci-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> buf</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  getxy x1,y1 </font></font></font><I><font color="#808080">;elmentjük a mostanit is, figyeled hogy hova? x1, 1<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> y </font><I><font color="#808080">;egy sorral fogunk lejjebb menni, de mihez képest? nézd y!!!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  gotoxy x,y </font></font></font><I><font color="#808080">;na menjünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;si-be 3, így ír ki 4 kar-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> alahuzas </font><I><font color="#808080">;kiírja az aláhúzást</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> buf</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  gotoxy x1,y1 </font></font></font><I><font color="#808080">;és visszamegy oda ahol a Laci szó végetért, és már alá is van húzva... :o</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go6<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go4:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;ha nem Laci volt, akkor meg csak simán kiírjuk a buffert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> buf<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go6:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> fajlvege,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ez meg már a vége, ha nem Laci volt vagy ha az is, itt kötünk ki, ha fajlvege flag egyesbe van akkor vége, ha nem akkor si-t nullázzuk, és újra olvasunk... :P</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go7</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go7:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;itt lekezeljük a hibaüziket</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;ax=3?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">5</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba3</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ha egyik se akkor a hiba ismeretlen<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz4</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz1</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz2</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz3<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text2<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várás egy bill.-re echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;volt megnyitott fájl?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> abort<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000">eh </font><I><font color="#808080">;ha volt hát zárd be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">abort:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;vezérlés visszaadása a DOS-nak</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Algoritmusa:</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;olvasunk a fájlból egy bájtot, megnézzük ez mi: vezérlõ karakter, vagy csak sima karakter, ha vezérlõ akkor valamit kell csinálni, ha nem az, akkor megnézzük betelt már a buffer van elég kar. benne, ha igen akkor kiírjuk a buffert, indexet nullára állítjuk a szo flaget szintén nullába és újra olvasunk, ha nem volt benne elég akkor indexet eggyel tovább teszem és újra olvasok. Mit jelent az hogy van benne elég? Azt hogy van benne long+1 drb, tehát a Laci szónak meg a vezérlõ karaktertnek, tehát hogy tudjuk vége van a szónak. A másik ami történhet hogy vezérlõ karakterbe botlunk, ekkor ha szo egyes volt akkor oké mehetünk megnézni hogy a keresett szó van-e benne, ja és még elõtt hogy van-e egyáltalán benne annyi, ha igen akkor ugrunk oda ahol ezt lekezeljük. Ha a szo nulla, akkor az azt jelenti hogy nincs külön szó, az elõzõ ért véget, most már a szo biztos egyes, ezért egyesbe állítom, és kiírom a buffert aztán vissza újra olvasni. Mindig nézem hogy nincs-e véletlenül fájlvége, ha az van, akkor ki kell lépni, erre figyelni kell... Az ami kiírja az nagyon fontos, fentebb már írtam, dupla sorközzel írja, hogy legyen hely az aláhúzásnak!!!</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Ha oda kerül hogy megtalálta a Laci szót, akkor elõször megnézi hol van a kurzor, elmenti, majd kiírja a Laci-t. Megint elmenti a pozíciót, aztán visszamegy a Laci szó elejére, eggyel lejjebb teszi a kurzort, egy sorral, ez ugyebár biztos üres, ide kiírja az aláhúzást, és visszamegy oda ahol a Laci végetért. Így van egy Laconk kiírva plusz az aláhúzás, de nem gond a kurzor a Laci után villog. Mehet szépen tovább, alá van húzva ahogy kell... :D</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Ha ez nem jött össze nem Laci volt, könnyû kitalálni: kiírja a buffer-t és olvas tovább.. persze siindex nullázza..<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;nagyjából ennyi...</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Enjoy!</font></I></font></font></font></I></font></font></Body></font>

<hr noshade><br>
<a name="24"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 24<BR>
</font></I></font></font><BR>
<a href="24.zip">24.zip</a> <a href="24.exe">24.exe</a> <a href="24.asm">24.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely megszámolja az aktuális könyvtárban levõ fájlokat, az eredményt pedig kiírja a képernyõre.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">dta </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">128</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">)</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciiz </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'*.*'</font><font color="#000000">,</font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Az aktualis mappaban $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">' fajl talalhato.$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nem talalhato fajl!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemaforbin </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ?</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szam </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ide mentjük a fájlok számát<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;evvel a procedúrával írjunk ki egy bináris számot a  képernyõre, ebben a programban a szam nevû változót</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ezt a procedúrát szõccsel órán vettük...<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemaforbin,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;szemafort nullába állítjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük, hogy a kiírandó szám nem nulla e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop1 </font><I><font color="#808080">;ha nem továbbmegyünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;ha igen akkor kiírunk egy nullát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#008000">'0'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vegeproc </font><I><font color="#808080">;és a proc. végére ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10000</font><font color="#000000"> </font><I><font color="#808080">;10000 fogunk osztani</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;osztani fogunk, fontos a dx-et kinullázni, lást  div utasítás<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;itt osztjuk az ax-et és a kiterjesztését a dx-et a  bx-ben levõ számmal</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;átvisszük a dx-et az si-be, a dx-ben van a  maradék</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük ax-ben nulla van e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop2 </font><I><font color="#808080">;ha nem akkor kiírjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemaforbin,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha igen, és a szemafor 0 akkor nem  írjuk ki</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> gop3<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;itt írjuk ki az ax-ben osztás után megkapott  számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;hozzáadunk 30h-t, mert ASCII karakterként  írjuk ki</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemaforbin,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;már itt egy karaktert biztos kiírtunk, ezért szemafort egyesbe állítjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztót el kell osztani 10-zel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;itt osztjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;megnézzük, hogy az osztó egy e már</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> vegeproc </font><I><font color="#808080">;ha kisebb mint egy akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ha nem, akkor bx-be bevisszük az osztót</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;ax-be vissza az elõzõ maradékot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cikp1 </font><I><font color="#808080">;és elölrõl az egészet<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegeproc:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">endp<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">1</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;dta kezdõcímének beállitása</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ez a 4eh ill. 4fh szolgáltatásoknak kell, most igazából különösebb szerepe nincs</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> dta</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><font color="#000000">eh </font><I><font color="#808080">;itt lekérjük (keressük) az elsõ fájlt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> asciiz </font><I><font color="#808080">;az aktuális mappát figyeljük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;normal fájlokat</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ha nem találtunk fájlt, kiírjuk, hogy nincs fájl<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> szam </font><I><font color="#808080">;megnöveljük a fájlokat számláló változó értékét  eggyel, mivel ha már itt vagyunk, akkor 1 fájl biztosan van</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><font color="#000000">fh </font><I><font color="#808080">;itt kezdjük lekérni a további fájlokat</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnc</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;addig fogjuk ezt ismételni, ameddig talál fájlt<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;oké, nincs több fájl, most kiírjuk, hogy mennyi  is volt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text1 </font><I><font color="#808080">;elõször a szöveg elsõ fele</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,szam </font><I><font color="#808080">;itt fogjuk átcsinálni a szam-ot ASCII-vá, azaz kiírjuk a képernyõre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii </font><I><font color="#808080">;ez a procedúra végzi ezt, az ax-ben kapja  meg a kiírandó fájlt<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;itt meg kiírjuk a szöveg további részét</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;átugorjuk a hibaüzenetet<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;itt írjuk ki, hogy nincs fájl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> hibauz1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;visszaadjuk a vezérlést az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens lezárása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénel fogunk belépni a programba</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="25"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 25<BR>
</font></I></font></font><BR>
<a href="25.zip">25.zip</a> <a href="25.exe">25.exe</a> <a href="25.asm">25.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely kiírja a képernyõre az összes állományt az aktuális mappából, amely megfelelnek a bill. megadott maszknak.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code  szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">dta </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">128</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">)</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;8+11 + pont meg az ENTER</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">newline </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><font color="#000000"> </font><I><font color="#808080">;újsor</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Maszk: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Az aktualis mappaban talalhato fajlok:$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nem talalhato fajl!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nem adtal meg maszkot!'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">1</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;dta beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> dta</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk a text1-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;karakterek beolvasása bill.-rõl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><font color="#FF0000">1</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük a volt-e beadva karakter</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;vagy csak ENTER volt leütve</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha nem csak ENTER megyünk tovább<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;ha csak ENTER, hibaüzi</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> hibauz2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;és nyomás vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><I><font color="#0000FF">bh</font></I><font color="#000000"> </font><I><font color="#808080">;bh=0</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;bl-be bevisszük mennyi kar. volt  beolvasva</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;a végére dobunk egy 0-at<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk a text2-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><font color="#000000">eh </font><I><font color="#808080">;megkeressük az elsõ fájlt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer[</font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;elsõ két bájtot át kell ugornunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;normal fájlokat keresünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ha hiba történt, ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000">eh </font><I><font color="#808080">;dta-ba ettõl a címtõl kezdõdik a fájlnév<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;kiírunk egy újsort</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> newline</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;és elkezdjük kiírni a fájlnevet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000"> dta[</font><I><font color="#0000FF">si</font></I><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;mindig a köv. bájtra állítjuk az si-t</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000"> dta[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük nincs-e még vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> cik3 </font><I><font color="#808080">;ha nincs akkor kiírjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><font color="#000000">fh </font><I><font color="#808080">;keressük a köv. fájlt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnc</font></B><font color="#000000"> cik2 </font><I><font color="#808080">;ha talált fájlt, azt kiírjuk, szóval vissza  cik2-re<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;itt ugrunk már a végére, átugorjuk a hibaüziket<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;kiírjuk a hibaüzit</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> hibauz1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;itt a vége, fuss el véle</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;korrektül befejezzük a programot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="26"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 26<BR>
</font></I></font></font><BR>
<a href="26.zip">26.zip</a> <a href="26.exe">26.exe</a> <a href="26.asm">26.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely elkészíti két fájl &quot;összegét&quot;. A két forrásfájl ill. a célfájl nevét kérje be a billentyûzetrõl.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">filename </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">65</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">65</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;fájlnév elmentésére</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kar </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;ebbe olvasunk a fájlból, ebbõl írunk fájlba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'1. fajl: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'2. fajl: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Celfajl: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A masolas kesz!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text5 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Press any key...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nem talalom az utat$'</font><font color="#000000"> </font><I><font color="#808080">;hibaüzenetek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Hozzaferes megtagadva!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A fajl nem letezik!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Szamomra ismeretlen hiba$$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz5 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A celfájl mar letezik!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">file1 </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;a FILE HANDLE  számok elmentésére</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">file2 </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ?</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">file3 </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ?</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemafor1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;volt megnyitott fájl? evvel jelezzük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemafor2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemafor3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">letezik </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;hehe, ez annak az indikálása, hogy van fájl, de  ez nekünk nem jó, tehát ha NINCS az a jó, de akkor a hiba-ra  ugortunk már, megnézzük letezik=1, ha igen, akkor nekünk  vissza kell menni, és tovább kell folytatni a programot<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">pstring </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fájl lezárása</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">lezar </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> file,szemafor</font><BR>
<font face="Courier New"><font SIZE="2"><B><font color="#000080">local</font></B></font></font><font color="#000000"> vege</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha szemafor=1, akkor le kell zárni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> vege</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000">eh</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string beolvasására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">beolvas </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> buffer</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><I><font color="#0000FF">bh</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;hova is?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;a végére kell egy 0</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro fájl megnyitására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">megnyit </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> file,szemafor</font><BR>
<font face="Courier New"><font SIZE="2"><B><font color="#000080">local</font></B></font></font><font color="#000000"> ok</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><I><font color="#0000FF">dh</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;olvasásra</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> filename[</font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;a filename 3. bájtjától  kezdõdika  fájlnév</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnc</font></B><font color="#000000"> ok</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ez azért így mert ide már near jump kell, shor  nem elég, túl messze van<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">ok:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> file,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;FILE HANDLE elmentése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;szem. egyesbe</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;olvasás fájlból a kar-ba</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">olvasfajlbol </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000">fh</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;egy bájt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> kar </font><I><font color="#808080">;a kar-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;írás fájlba egy kar-t</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">irasfajlba </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">40h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;egy bájtot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> kar</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba </font><I><font color="#808080">;ha hiba ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fájl létrehozása, nevét a filename adja, mint eddig is :D</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">letrehozas </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> file,szemafor</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;létrehozás</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><I><font color="#0000FF">cx</font></I><font color="#000000"> </font><I><font color="#808080">;normal fájl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> filename[</font><font color="#FF0000">2</font><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jc</font></B><font color="#000000"> hiba</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> file,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;FILE HANDLE elmentése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;bla-bla-bla, mint elõbb</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;text kiír, és vár egy karakterre</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">_wait </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df=0<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text1 </font></font></font><I><font color="#808080">;text1 kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  beolvas filename </font></font></font><I><font color="#808080">;fájlnév beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  megnyit file1,szemafor1 </font></font></font><I><font color="#808080">;fájl megnyitása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text2 </font></font></font><I><font color="#808080">;ugyanaz, csak másik fájl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  beolvas filename</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  megnyit file2,szemafor2<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text3 </font></font></font><I><font color="#808080">;célfájl</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  beolvas filename</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> letezik,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;hehe, ha létezik az nekünk nem JÓ, ezért ha  hiba lett, akkor visszajövünk, ha nem akkor kiírjuk, hogy  hiba és vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  megnyit file3,szemafor3<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz5</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;mondom, VÉGE<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">letrehoz:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  letrehozas file3,szemafor3 </font></font></font><I><font color="#808080">;célfájl létrehozása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">elsofajl:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  olvasfajlbol file1 </font></font></font><I><font color="#808080">;olvasunk elsõ fájlból míg vége nem  lesz</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> masikfajl<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  irasfajlba file3 </font></font></font><I><font color="#808080">;és írunk a célfájlba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> elsofajl<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">masikfajl:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  olvasfajlbol file2 </font></font></font><I><font color="#808080">;ugyanaz, csak a másik fájlból olvasunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> vegeazirasnak<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  irasfajlba file3</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> masikfajl<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegeazirasnak:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text4 </font></font></font><I><font color="#808080">;kiírjuk a végsõ szöveget, hogy minden ok</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;átugorjuk a hibaüziket<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> letezik,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ha letezik=1 akkor vissza kell menni ha  hiba lett</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> letrehoz </font><I><font color="#808080">;tehát VISSZA</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;hibák lekezelése a hibakód alapján</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> hiba1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">5</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> hiba2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> hiba3<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz4 </font></font></font><I><font color="#808080">;ha egyik se, akkor ismeretlen</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz1</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz2</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz3<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  _wait text5 </font></font></font><I><font color="#808080">;várj<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  lezar file1,szemafor1 </font></font></font><I><font color="#808080">;zárd le a fájlokat</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  lezar file2,szemafor2</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  lezar file3,szemafor3<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;add vissza a vezérlést</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="27"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 27<BR>
</font></I></font></font><BR>
<a href="27.zip">27.zip</a> <a href="27.exe">27.exe</a> <a href="27.asm">27.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely megszámolja a Jani szavakat a szöveges állományban, és megjeleníti ezt a mennyiséget a képernyõn. Az egyes szavak SP, HT, CR és LF karakterekkel vannak elválasztva. Az állomány nevét kérje be a billentyûzetrõl, és hiba esetén jelenítsen meg hibaüzenetet.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">long </font></font></font><B><font color="#000080">EQU</font></B><font color="#000000"> </font><font color="#FF0000">4</font><font color="#000000"> </font><I><font color="#808080">;long konstans értéke 4<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">65</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">65</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;buffer a fájl nevének, majd pedig a fájlból való olvasásra is</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">mit </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Jani'</font><font color="#000000"> </font><I><font color="#808080">;Jani szót keressük</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;szövegek, amiket ki akarunk írni</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'File: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A Jani szo $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'-szor jelenik meg a fajlban.$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Press any key...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nem talalhato az ut!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Hozzaferes megtagadva!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A fajl nem letezik!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Ismeretlen hiba!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">file </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;FILE HANDLE elmentésére</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemafor </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;volt megnyitot fájl?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">fajlvege </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;fájlvége van?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szo </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;szavat találtunk, vagy csak az elõzõ szónak van vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">t </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;számolunk..mennyi is van?<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">pstring </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><font color="#000000"> </font><I><font color="#808080">;kilences DOS szolgáltatás</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. bináris szám kiírására a képernyõre</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> binascii_start<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">flag </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;van már kiírt karakter?<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;még nincs kiirt karakter, ezért flag nulla</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> binascii_go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;ha igen akkor kiírunk egy nullát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#008000">'0'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10000</font><font color="#000000"> </font><I><font color="#808080">;ha nem nulla, akkor szépen kiírjuk a számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;elõször 10ezerrel osztunk, majd szépen ezerrel, százzal...<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;oszd el az ax-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;maradékot az si-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> binascii_go2 </font><I><font color="#808080">;a szám amit kaptunk 0? Ha igen akkor a flagtõl függ ki írunk-e valamit</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> flag,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha flag nulla akkor nem írunk ki semmit</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> binascii_go3<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;ha minden ok akkor kiírjuk a számjegyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;ASCII</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;flag már egyesbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;elosztjuk a bx-et 10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;kinullazza a dx-et, elosztja az ax-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;addig míg ax nagyobb vagy egyenlõ 1el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> binascii_vege</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ax vissza bx-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;sibõl a maradék vissza az ax-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> binascii_cik1 </font><I><font color="#808080">;vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">endp<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;képernyõ törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text1 </font></font></font><I><font color="#808080">;text1 kiírása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;string beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;a buffer-ba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bh</font></I><font color="#000000">,</font><I><font color="#0000FF">bh</font></I><font color="#000000"> </font><I><font color="#808080">;bh nullázása, mert bx-et használjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer[</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;bx-be a beolvasott kar. száma</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;végére egy nulla<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><I><font color="#0000FF">dh</font></I><font color="#000000"> </font><I><font color="#808080">;fájl megnyitása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;csak olvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer[</font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;buff. 3. bájtjától van a fájlnév</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnc</font></B><font color="#000000"> go3</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> hiba<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> file,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;FILE HANDLE elmentése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;szem. egyesbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;a fájlból való olvasás, ellenõrzés hogy Jani-e, ha igen akkor t-hez hozzáadni egyet<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000">fh </font><I><font color="#808080">;fájlból olvasás</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file </font><I><font color="#808080">;FILE HANDLE  bx-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;egy bájtot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer </font><I><font color="#808080">;a bufferba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;pontosabban si-edik bájtjába</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnc</font></B><font color="#000000"> go8</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> hiba</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go8:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha ax nulla akkor fájlvége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> fajlvege,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ezt álljtjuk itt be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go9<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;megnézzük hogy amit beolvastunk: vezérlõ karakter? Vezérlõ karakter: 13,10,9,32  13,10 sorvége, 9 tabulátor, 32 szóköz</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">13</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> go9 </font><I><font color="#808080">;ha igen, akkor elugrunk, és lekezeljük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">10</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> go9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> go9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">32</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> go9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go10<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go9:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szo,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;van új szavunk, vagy ez ami most ért véget még az elõzõ része?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szo,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;mind1, most már ami jön biztos új szó</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go12 </font><I><font color="#808080">;de ha nem volt új szavunk nem ugrunk el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,long </font><I><font color="#808080">;si ben már van kellõ mennyiségû karakter?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go2 </font><I><font color="#808080">;ha igen csak akkor ugrunk el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go12:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> fajlvege,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ha fájlvége van akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go11</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go11:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;ha nem akkor si nullázása és tovább olvassuk a szavakat</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go10:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,long </font><I><font color="#808080">;ha az si már long hosszú akkor nullázni kell</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> go5</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szo,</font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go5:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;ha viszont nem az akkor plusz egy hozzá</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,</font><I><font color="#0000FF">di</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,mit[</font><I><font color="#0000FF">di</font></I><font color="#000000">] </font><I><font color="#808080">;itt nézzük meg, hogy a keresett szó van e a bufferban</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,buffer[</font><I><font color="#0000FF">di</font></I><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> go4 </font><I><font color="#808080">;ha nem itt ugrunk el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">di</font></I><font color="#000000">,long</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik2<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> t </font><I><font color="#808080">;ha igen minden rendben, akkor t++<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go4:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> fajlvege,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;fájlvége van már?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> go7</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;ha nem akkor tovább keress új szót</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go7:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;hibák lekezelése</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;ax=3?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">5</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> hiba3<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ha egyik se, akkor ismeretlen hiba</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz4</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz1</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz2</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hiba3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz3<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text2<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;kiírjuk mennyi is volt</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,t</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii </font><I><font color="#808080">;binascii proc. lásd elõbb<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text3</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text4<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várás egy bill.re echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;volt megnyitot fájl?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> abort<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000">eh </font><I><font color="#808080">;ha volt bezárjuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,file</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">abort:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;a vezérlés visszaadása a DOS-nak</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;beolvasunk egy karaktert a fájlból, megnézzük vezérlõ karakter-e, ha igen akkor megnézzük az elõzõ szó része, vagy különálló szó. Ha különálló, akkor megnézzük Jani-e. Ha igen akkor a számlálóhoz hozzáadunk egyet. Ha a buffer betelik, akkor si-t nullázzuk, és újból elkezdünk bele olvasni. Az si a mutatója, az indexe...</font></I></font></font></font></I></font></font></Body></font>

<hr noshade><br>
<a name="28"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 28<BR>
</font></I></font></font><BR>
<a href="28.zip">28.zip</a> <a href="28.exe">28.exe</a> <a href="28.asm">28.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely kiírja az aktuális mappából azokat az állományokat, amelyek mérete nagyobb mint a bill. megadott érték.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változój</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">dta </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">128</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;dta tárolására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">path </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'*.*'</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;elérési út az akt. mappa, minden fájlja</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">newline </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><font color="#000000"> </font><I><font color="#808080">;új sor írására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Fajlok listazasa, amelyek nagyobbak mint (bajtokban, max. 4 GB): $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Press any key to continue...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nem talalhato fajl!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">11</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">11</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">) </font><I><font color="#808080">;a szám beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">meret_al </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;meret alacsonyabb bájt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">meret_mag </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;meret magasabb bájt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">flag </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;volt fájl?<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro text kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiir </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro szöveg beolvasására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">beolvas </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> hova</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> hova</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. 32 bites bináris számmá való alakításra ASCIIkódból</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;nem magyarázom, ezt nem vettük</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;de ide ez kell, lehetne 16 bites is, csak az nem az igazi...</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin_32 </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet si - mutato buffer+2</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">                      </font></font></font><I><font color="#808080">;kimenet dx:ax - bin ertek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> start_asciibin_32<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">magasabb_szo </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ?</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">alacsonyabb_szo </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ?<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start_asciibin_32:<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000"> [</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">13</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> asciibin_32_go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin_32_go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> magasabb_szo,</font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> alacsonyabb_szo,</font><font color="#FF0000">0<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin_32_ciklus:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,magasabb_szo</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,alacsonyabb_szo</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">10</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> longmul</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">push</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000"> [</font><I><font color="#0000FF">si</font></I><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cbw</font></B><font color="#000000"> </font><I><font color="#808080">;elojeles kiterjesztese az al-nek az az-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">push</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cwd</font></B><font color="#000000"> </font><I><font color="#808080">;ax &gt; dx-be valo kiterjesztese</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">pop</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">pop</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">adc</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sbb</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">0</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> magasabb_szo,</font><I><font color="#0000FF">bx</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> alacsonyabb_szo,</font><I><font color="#0000FF">cx</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000"> [</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">13</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> asciibin_32_ciklus<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,magasabb_szo</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,alacsonyabb_szo</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin_32 </font></font></font><B><font color="#000080">endp<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ez a proc. a asciibin_32-nek kell</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">longmul </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">push</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xchg</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xchg</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jcxz</font></B><font color="#000000"> longmul_go1 </font><I><font color="#808080">;teszteli, hogy a cx-ben 0 ertek van-e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xchg</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">si<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">longmul_go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xchg</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">pop</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">longmul </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text1 </font></font></font><I><font color="#808080">;text1 kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  beolvas buffer </font></font></font><I><font color="#808080">;a szám beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> [buffer+</font><font color="#FF0000">2</font><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> asciibin_32 </font><I><font color="#808080">;átalakítása binárissa</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> meret_al,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;és elmentése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> meret_mag,</font><I><font color="#0000FF">dx<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">1</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;dta kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> dta</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><font color="#000000">eh </font><I><font color="#808080">;elsõ fájl keresése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> path </font><I><font color="#808080">;a path által adott mappában</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;normal fájlokat keress</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnc</font></B><font color="#000000"> tovabb </font><I><font color="#808080">;ha nincs hiba, vagyis találtál, akkor tovább<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;ha hiba akkor ugrunk a végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">tovabb:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><font color="#FF0000">1</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;megnézzük a fájlméretet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">word</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000"> dta[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;elõször a magasabb bájtot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,meret_mag </font><I><font color="#808080">;ha ez kisebb akkor az nem jó, következõ</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> kov</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">word</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000"> dta[</font><I><font color="#0000FF">si</font></I><font color="#000000">-</font><font color="#FF0000">2</font><font color="#000000">] </font><I><font color="#808080">;alacsonyabb bájt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,meret_al </font><I><font color="#808080">;ha ez kisebb vagy egyenlõ akkor nem jó</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> kov </font><I><font color="#808080">;és jöhet a következõ<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir newline </font></font></font><I><font color="#808080">;új sor írása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000">eh </font><I><font color="#808080">;innen kezdõdik a fájlnév<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;egy kar. kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000"> dta[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;ezen kar. kiírása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><font color="#000000"> </font><I><font color="#808080">;tedd meg!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;köv. karra mutass</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000"> dta[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;az nulla?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;ha még nem akkor ismételj</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;egy fájlnév már biztos ki volt írva, ezért  flag egyesbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kov:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><font color="#000000">fh </font><I><font color="#808080">;köv. fájl keresése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnc</font></B><font color="#000000"> tovabb </font><I><font color="#808080">;ha cf=0, már nincs fájl<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> flag,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;flag=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> abort </font><I><font color="#808080">;ha nem, akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir hibauz1 </font></font></font><I><font color="#808080">;ha igen kiírunk egy hibaüzit, hogy nem volt  fájl<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">abort:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text2 </font></font></font><I><font color="#808080">;várás egy bill.-re szöveg</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várás egy bill.-re</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;vezérlés vissza az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="29"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 29<BR>
</font></I></font></font><BR>
<a href="29.zip">29.zip</a> <a href="29.exe">29.exe</a> <a href="29.asm">29.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely bekér a bill. 3 kétjegyû egész számot, és ezeket megjeleníti a képernyõn a legnagyobbtól a legkisebbig.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;long szó jelentse azt, hogy 3, ez jelzi a beolvasandó számok   számát, ha itt átírjuk, akkor mindenhol átíródik a  programban, ha mondjuk 10 számot akarnánk bekérni, itt elég  lenne átírni, és a program automatikusan 10 számot kérne be, és rendezne</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">long </font></font></font><B><font color="#000080">EQU</font></B><font color="#000000"> </font><font color="#FF0000">3<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Legnagyobbtol a legkisebbig'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'***************************'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">      </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Adj meg $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text11 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">' szamot!'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'. szam: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A szamok rendezve:'</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text4 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nyomj le egy billentyut a kilepeshez...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A megadhato legkisebb szam a 10, a legnagyobb a 99!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">newline </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#FF0000">36</font><font color="#000000"> </font><I><font color="#808080">;új sor írásához</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer_key </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">3</font><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> dup(</font><font color="#FF0000">0</font><font color="#000000">)</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buffer_sort </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> long dup(</font><font color="#FF0000">0</font><font color="#000000">)</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">szemafor </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ?</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">index </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;a buffer_sort indexeléséhez<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">kiir </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> text</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro egy karakter kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">putchar </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,char</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;procedúra bináris szám kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;szemafor nullázása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop21 </font><I><font color="#808080">;ha nem akkor megyünk tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">'0'</font><font color="#000000"> </font><I><font color="#808080">;ha ige, akkor kirakunk egy nullát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vegep2 </font><I><font color="#808080">;és megyünk a végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop21:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10000</font><font color="#000000"> </font><I><font color="#808080">;10000-rel fogunk osztani</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztás elõtt nullázni kell a dx-et<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp21:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;osztjuk az ax-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;a maradék az si-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> gop22 </font><I><font color="#808080">;ha nem akkor gop22-re</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor szemafor=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> gop23 </font><I><font color="#808080">;ha igen, ugrunk a gop23-ra<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop22:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;al-hez adjunk hozzá 30h, ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;kitesszük a képernyõre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> szemafor,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;már itt biztos volt kiírva karakter, ezért  szemafor egyesbe<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop23:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;az osztót osztani kell 10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;dx nullázása, mint fent</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;kinullazza a dx-et, osztjuk az ax-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;megnézzük ax=1?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> vegep2 </font><I><font color="#808080">;ha kisebb mint 1, akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ha nem, bx-be vissza az osztót</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;ax-be vissza a maradékot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cikp21 </font><I><font color="#808080">;vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérünk a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ASCII karaktereket alakít számmá</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet si - mutato buffer+1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">                   </font></font></font><I><font color="#808080">;kimenet ax - bin ertek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük a cl-be a beolvasott  karakterek számát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ax-et nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;megnézzük volt-e beolvasott karakter</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> gop31 </font><I><font color="#808080">;ha igen, akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vegep3 </font><I><font color="#808080">;ha nem akkor vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop31:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el fogunk szorozni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cikp31:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mul</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;dx nullázva, szorozzuk az ax-et bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si köv. elemre mutasson</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük dl-be a karaktert</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">sub</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;levonunk belõle 30h, lásd ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;hozzáadjuk az ax-hez a számjegyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl-1</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> cikp31 </font><I><font color="#808080">;addig míg cl!=0 vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">asciibin </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;ez a lényeg, a rendezõ algoritmus</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;bubblesort-ot használjuk, mivel kevés az elemszám</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">bubblesort </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet si - mutato a rendezendo tomb  elso elemere, long a tomb hossza</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> startp5 </font><I><font color="#808080">;átugorjuk a változókat<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">p </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;egy szemafor, hogy tudjuk volt csere</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">buf </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;buffer, amibe elmentjük az si kezdeti értékét<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">startp5:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buf,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;elõbb mondtam, itt mentjük el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,long </font><I><font color="#808080">;dl-be azt, hogy mennyi bájtot kell rendezni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop51:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> p,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;p-t nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,buf </font><I><font color="#808080">;si-be a kezdeti értékét</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000"> </font><I><font color="#808080">;dl-be eggyel kevesebbet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> vegep5 </font><I><font color="#808080">;ha dl=0 akkor vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000">,</font><I><font color="#0000FF">dl</font></I><font color="#000000"> </font><I><font color="#808080">;cl-be dl-t<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">atnezes:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">] </font><I><font color="#808080">;bevisszük al-be, a buffer si-edik  bájtját</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">+</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;megnézzük hogyan viszonyul ez az  elem a következõvel</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jae</font></B><font color="#000000"> gop52 </font><I><font color="#808080">;LÉNYEGES RÉSZ! Ha nagyobb vagy egyenlõ akkor  ugrunk, ha ezt átírjuk jbe gop52-re akkor legkisebbtõl  legnagyobbig rendez<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xchg</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">+</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;felcseréljük a két elemet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">byte</font></I><font color="#000000"> </font><I><font color="#0000FF">ptr</font></I><font color="#000000">[</font><I><font color="#0000FF">si</font></I><font color="#000000">],</font><I><font color="#0000FF">al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> p,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;és p-t egyesbe állítjuk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">gop52:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;si köv. elemre mutasson</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">dec</font></B><font color="#000000"> </font><I><font color="#0000FF">cl</font></I><font color="#000000"> </font><I><font color="#808080">;cl eggyel kevesebb</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jnz</font></B><font color="#000000"> atnezes </font><I><font color="#808080">;ha cl még nem nulla, akkor vissza az elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> p,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;megnézzük p=1?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> gop51 </font><I><font color="#808080">;ha igen, ugrunk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vegep5:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">bubblesort </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">3</font><font color="#000000"> </font><I><font color="#808080">;képernyõ törlése, 80x25-ös módba való váltással</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">10h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text1 </font></font></font><I><font color="#808080">;kiírjuk a text1-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,long </font><I><font color="#808080">;bevisszük azt az ax-be, hogy mennyi számot  kell megadni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii </font><I><font color="#808080">;kiírjukl ezt a számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text11 </font></font></font><I><font color="#808080">;itt meg a szöveg többi része<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> index,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;index=1, ez egyben ciklusváltozó is<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;itt olvassuk be a számokat</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir newline </font></font></font><I><font color="#808080">;írunk egy új sort</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,index </font><I><font color="#808080">;kiírjuk, hogy hanyadik számot adjuk meg épp</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text2 </font></font></font><I><font color="#808080">;és kiírjuk, hogy . szám:<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;string beolvasása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer_key </font><I><font color="#808080">;a buffer_key-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><font color="#000000"> </font><I><font color="#808080">;csináld<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;bx nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer_key[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;megnézzük, hogy a beolvasott két  karakter szám volt-e</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> buffer_key[</font><I><font color="#0000FF">bx</font></I><font color="#000000">+</font><font color="#FF0000">2</font><font color="#000000">],</font><font color="#FF0000">39h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ja</font></B><font color="#000000"> go1</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000"> </font><I><font color="#808080">;végignézzük a tömböt</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">bl</font></I><font color="#000000">,buffer_key[</font><font color="#FF0000">1</font><font color="#000000">]</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> cik3</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> go2 </font><I><font color="#808080">;ha ide eljutunk, akkor minden rendben, mehetünk  tovább<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir hibauz1 </font></font></font><I><font color="#808080">;ha nem volt rendben, akkor kiírjuk, hogy  hiba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;és bekérjük még 1x<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer_key+</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;si-be a buffer második  bájtjára mutató mutató</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> asciibin </font><I><font color="#808080">;csinálunk belõle számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;az ax-be lesz ez a szám, megnézzük nagyobb mint  10?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> go1 </font><I><font color="#808080">;ha kisebb, akkor baj van, megyünk a hibára<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,index </font><I><font color="#808080">;si-be index</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> buffer_sort[</font><I><font color="#0000FF">si</font></I><font color="#000000">-</font><font color="#FF0000">1</font><font color="#000000">],</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;elmentjük a buffer_sort-ba a  számot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> index </font><I><font color="#808080">;index mutasson a buffer köv. elemére, a köv. mentéshez</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> index,long </font><I><font color="#808080">;megnézzük bekértük már az összes számot?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> cik1 </font><I><font color="#808080">;ha még nem, akkor kérjük<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> buffer_sort </font><I><font color="#808080">;na itt rendezzük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> bubblesort </font><I><font color="#808080">;ez csinálja<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text3 </font></font></font><I><font color="#808080">;kiírju, hogy a tömb rendezve</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> index,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;index=1<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">cik2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir newline </font></font></font><I><font color="#808080">;újsor</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,index </font><I><font color="#808080">;ax-be index</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii </font><I><font color="#808080">;kiírjuk az index-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text2 </font></font></font><I><font color="#808080">;kiírjuk, hogy . szám:<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;ah-t nullázzuk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,index </font><I><font color="#808080">;si-be index</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,buffer_sort[</font><I><font color="#0000FF">si</font></I><font color="#000000">-</font><font color="#FF0000">1</font><font color="#000000">] </font><I><font color="#808080">;buffer megfelelõ bájtját al-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii </font><I><font color="#808080">;kiírni<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> index </font><I><font color="#808080">;index köv. elemre</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> index,long </font><I><font color="#808080">;megnézzük kiírtuk már az összes elemet?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jbe</font></B><font color="#000000"> cik2 </font><I><font color="#808080">;ha még nem, akkor vissza a cik2-re<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  kiir text4 </font></font></font><I><font color="#808080">;kiírjuk, hogy nyomj bármilyen bill.-t<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várás echo nélkül egy bill. lenyomására</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;a vezérlés visszaadása az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<a name="30"></a>
<font face="Courier New"><font SIZE="2"><font color="#000000"><font face="Courier New"><font SIZE="3"><I><font color="#808080">;Program 30<BR>
</font></I></font></font><BR>
<a href="30.zip">30.zip</a> <a href="30.exe">30.exe</a> <a href="30.asm">30.asm</a><br><br>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;Írjon programot, amely megállapítja az aktuális dátumot, hozzáad egy napot, és lecseréli az aktuális dátumot erre az újra. Kiírja a régi és az új dátumokat is.<BR>
</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">segment</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens létrehozása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">assume</font></B><font color="#000000"> </font><I><font color="#0000FF">cs</font></I><font color="#000000">:code,</font><I><font color="#0000FF">ds</font></I><font color="#000000">:code </font><I><font color="#808080">;hozzárendelés<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;változók</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#008000">'Aktualis datum: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text2 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Uj datum: $'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">text3 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'Nyomj le barmilyen billentyut a kilepeshez...$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">hibauz1 </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> </font><font color="#FF0000">13</font><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000">,</font><font color="#008000">'A datum megvaltoztatasa sikertelen!$'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">ev </font></font></font><B><font color="#000080">dw</font></B><font color="#000000"> ? </font><I><font color="#808080">;ide mentjük az évet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">ho </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;hónapot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">nap </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;napot :D<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro string kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">pstring </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> string</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">9</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">offset</font></I><font color="#000000"> string</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><font color="#000000"> </font><I><font color="#808080">;macro vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro egy kar. kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">putchar </font></font></font><B><font color="#000080">macro</font></B><font color="#000000"> kar</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,kar</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro a dátum megváltoztatására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">change_datum </font></font></font><B><font color="#000080">macro</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><I><font color="#0000FF">bh</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">cx</font></I><font color="#000000">,ev </font><I><font color="#808080">;az új dátum az ev, ho, nap nevû változókban</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dh</font></I><font color="#000000">,ho </font><I><font color="#808080">;vannak, ezeket változtatjuk meg</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,nap</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm<BR>
</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;macro a dátum kiírására</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">print_datum </font></font></font><B><font color="#000080">macro</font></B><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,ev</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii </font><I><font color="#808080">;a binascii írja ki nekünk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">'.'</font><font color="#000000"> </font><I><font color="#808080">;teszünk egy .-ot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;ah-t nullázzuk, mert a binascii az ax-et írja  ki, mi csak az al-be rakunk számot, az ah-t ezért nullázni  kell</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,ho</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  putchar </font></font></font><font color="#008000">'.'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;ez ugyanaz mint elõbb, csak a nap-ot írjuk ki</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,nap</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">call</font></B><font color="#000000"> binascii</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">endm</font></B><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;proc. ami kiírja az ax-ben megadott számot a képernyõre</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">proc</font></B><font color="#000000"> </font><B><font color="#000080">near</font></B><font color="#000000"> </font><I><font color="#808080">;bemenet ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> binascii_start </font><I><font color="#808080">;átugorjuk a változót<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">flag </font></font></font><B><font color="#000080">db</font></B><font color="#000000"> ? </font><I><font color="#808080">;volt már kiírt számjegy? ezt mondja meg<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;flag=0 ? még nem volt kiírt számjegy</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> binascii_go1 </font><I><font color="#808080">;ha nem, akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor kiírunk egy nullát</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#008000">'0'</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;és visszatérünk<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10000</font><font color="#000000"> </font><I><font color="#808080">;10000-rel fogunk osztani</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;osztás ? dx-et nullázni kell! lásd füzet DIV  utasítás<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_cik1:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;ax-et osztjuk bx-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">si</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;maradékot dx-ben kapjuk vissza, elmentjük si-be</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ax=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jne</font></B><font color="#000000"> binascii_go2 </font><I><font color="#808080">;ha nem akkor tovább</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> flag,</font><font color="#FF0000">0</font><font color="#000000"> </font><I><font color="#808080">;ha igen, akkor flag=0?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">je</font></B><font color="#000000"> binascii_go3 </font><I><font color="#808080">;ha igen, akkor még nem volt kiírt  számjegy, ezért a kapott nullát nem írjuk ki<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go2:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><font color="#000000"> </font><I><font color="#808080">;ha ide eljutunk, kiírjuk a számjegyet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">add</font></B><font color="#000000"> </font><I><font color="#0000FF">dl</font></I><font color="#000000">,</font><font color="#FF0000">30h</font><font color="#000000"> </font><I><font color="#808080">;elõbb hozzáadunk 30h-t, ASCII!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> flag,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;és flag=1, mert már van kiírt számjegy<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_go3:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;bx-et osztani kell 10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><font color="#FF0000">10</font><font color="#000000"> </font><I><font color="#808080">;10-el</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">xor</font></B><font color="#000000"> </font><I><font color="#0000FF">dx</font></I><font color="#000000">,</font><I><font color="#0000FF">dx</font></I><font color="#000000"> </font><I><font color="#808080">;dx-et nullázni</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">div</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000"> </font><I><font color="#808080">;kinullázza a dx-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cmp</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ax=1?</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jb</font></B><font color="#000000"> binascii_vege </font><I><font color="#808080">;ha kisebb mint egy akkor vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">bx</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><font color="#000000"> </font><I><font color="#808080">;ha nem, akkor bx vissza osztónak</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">si</font></I><font color="#000000"> </font><I><font color="#808080">;ax-be meg az elõbbi maradék</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> binascii_cik1 </font><I><font color="#808080">;és vissza a ciklus elejére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii_vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">ret</font></B><font color="#000000"> </font><I><font color="#808080">;visszatérés a fõprogramba</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">binascii </font></font></font><B><font color="#000080">endp</font></B><font color="#000000"> </font><I><font color="#808080">;proc. vége<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><I><font color="#808080">;fõprogram</font></I></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">start:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ax</font></I><font color="#000000">,</font><I><font color="#0000FF">cs</font></I><font color="#000000"> </font><I><font color="#808080">;adatszegmens kezdõcímének beállítása</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ds</font></I><font color="#000000">,</font><I><font color="#0000FF">ax</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">cld</font></B><font color="#000000"> </font><I><font color="#808080">;df nullázása<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">2</font><I><font color="#0000FF">ah</font></I><font color="#000000"> </font><I><font color="#808080">;dátum lekérésse</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> ev,</font><I><font color="#0000FF">cx</font></I><font color="#000000"> </font><I><font color="#808080">;cx-ben az évet</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> ho,</font><I><font color="#0000FF">dh</font></I><font color="#000000"> </font><I><font color="#808080">;dh-ban a hónapot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> nap,</font><I><font color="#0000FF">dl</font></I><font color="#000000"> </font><I><font color="#808080">;dl-ben pedig a napot kapjuk vissza<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text1 </font></font></font><I><font color="#808080">;kiírjuk a text1-et</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  print_datum </font></font></font><I><font color="#808080">;kiírjuk a dátumot is<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> nap </font><I><font color="#808080">;nap eggyel nagyobb legyen!</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  change_datum </font></font></font><I><font color="#808080">;megpróbáljuk megváltoztatni a dátumot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">or</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;aktualizáljuk a jelzõbiteket</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> oke </font><I><font color="#808080">;ha a dátum megváltozott, akkor al=0, jz ugorni fog<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> nap,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ha nem jó, akkor hó végén vagyunk, ugrunk köv. hó elejére</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> ho</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  change_datum </font></font></font><I><font color="#808080">;megváltoztatjuk a dátumont</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">or</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><font color="#000000"> </font><I><font color="#808080">;ugyanúgy mint elõbb, ha sikerül akkor ugrunk</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> oke<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> ho,</font><font color="#FF0000">1</font><font color="#000000"> </font><I><font color="#808080">;ha nem, akkor az azt jelenti, hogy év vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">inc</font></B><font color="#000000"> ev </font><I><font color="#808080">;minden egyesbe, év eggyel növeljük</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  change_datum </font></font></font><I><font color="#808080">;megváltoztatjuk a dátumot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">or</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><I><font color="#0000FF">al</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jz</font></B><font color="#000000"> oke </font><I><font color="#808080">;ha ez sem jön be, akkor valami más hiba van, kiírjuk, hogy nem sikerült<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring hibauz1</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">jmp</font></B><font color="#000000"> vege </font><I><font color="#808080">;és ugrunk a végére<BR>
</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">oke:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text2 </font></font></font><I><font color="#808080">;kiírjuk az új dátumot</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  print_datum<BR>
</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  pstring text3</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">0</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;bill. buffer törlése</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">al</font></I><font color="#000000">,</font><font color="#FF0000">7</font><font color="#000000"> </font><I><font color="#808080">;várás egy karakterre, echo nélkül</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">vege:</font></font></font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">mov</font></B><font color="#000000"> </font><I><font color="#0000FF">ah</font></I><font color="#000000">,</font><font color="#FF0000">4</font><I><font color="#0000FF">ch</font></I><font color="#000000"> </font><I><font color="#808080">;a vezérlés visszaadása az op.-nek</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#0000FF">int</font></B><font color="#000000"> </font><font color="#FF0000">21h<BR>
</font><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">code </font></font></font><B><font color="#000080">ends</font></B><font color="#000000"> </font><I><font color="#808080">;code nevû szegmens vége</font></I><BR>
<font face="Courier New"><font SIZE="2"><font color="#000000">  </font></font></font><B><font color="#000080">end</font></B><font color="#000000"> start </font><I><font color="#808080">;start cimkénél kezdünk</font></I></font></I></font></font></Body></font>

<hr noshade><br>
<style type="text/css">.ct {font:6pt;text-align:center;margin:0px}.ct img{border:0} .ct a,.ct a:visited{color:silver;text-decoration:none}.ct a:hover{color:gray;text-decoration:underline}</style><div class=ct><a href="http://acme-web-design.info"><img src="http://acme-web-design.info/counter.php?id=9428892F944B4370BD9C470F480610F7&style=8" alt="acme-web-design.info"></a><br><a href="http://acme-web-design.info">acme-web-design.info</a></div>
</Body></font></Body></Html>